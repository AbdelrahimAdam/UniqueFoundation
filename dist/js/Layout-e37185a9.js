import{u as e,j as r}from"./index-b7c13edd.js";import{r as s}from"./vendor-0a74ad82.js";import{B as a}from"./Button-1fec977d.js";import{u as t}from"./useTranslation-40d56fa6.js";import{I as d,n as i,J as o,K as l,N as n,O as c,U as b,S as g,Q as x,W as m,b as u,B as h,V as p,c as y,F as f,d as k,Y as v,T as w,y as j,_ as N,X as C,m as M,$ as _,a0 as z,a1 as $}from"./ui-5d9f441a.js";import{b as S,u as E}from"./router-80e9042b.js";import"./firebase-d00d8d06.js";import"./utils-a27d9a93.js";const L=({onMenuClick:m,isDarkMode:u,toggleDarkMode:h})=>{const{t:p,i18n:y}=t(),{user:f,logout:k,userRole:v}=e(),[w,j]=s.useState(!1),[N,C]=s.useState(!1),M=s.useRef(null),_=s.useRef(null);s.useEffect(()=>{const e=e=>{M.current&&!M.current.contains(e.target)&&j(!1),_.current&&!_.current.contains(e.target)&&C(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const z=e=>{switch(e){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"teacher":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"student":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return r.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border-b border-white/20 dark:border-gray-700/50 sticky top-0 z-40 transition-all duration-300",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("button",{onClick:m,className:"lg:hidden p-2 rounded-lg bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg",children:r.jsx(d,{size:20})}),r.jsxs("div",{className:"hidden md:block relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(i,{size:18,className:"text-gray-400"})}),r.jsx("input",{type:"text",placeholder:p("common.search"),className:"pl-10 pr-4 py-2 w-64 bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(a,{variant:"ghost",size:"sm",onClick:()=>{const e="en"===y.language?"ar":"en";y.changeLanguage(e),document.documentElement.dir="ar"===e?"rtl":"ltr"},className:"hidden sm:flex items-center space-x-2 rtl:space-x-reverse px-3 py-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105",children:r.jsx("span",{className:"text-sm font-medium",children:"en"===y.language?"العربية":"English"})}),r.jsx("button",{onClick:h,className:"p-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg",children:u?r.jsx(o,{size:18}):r.jsx(l,{size:18})}),r.jsxs("div",{className:"relative",ref:_,children:[r.jsxs("button",{onClick:()=>C(!N),className:"p-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg relative",children:[r.jsx(n,{size:18}),r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"})]}),N&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 dark:border-gray-700/50 py-2 z-50 transform origin-top-right transition-all duration-200 scale-95 hover:scale-100",children:[r.jsx("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:p("notifications.title")})}),r.jsx("div",{className:"max-h-64 overflow-y-auto",children:r.jsx("div",{className:"px-4 py-3 text-center text-gray-500 dark:text-gray-400",children:p("notifications.noNotifications")})})]})]}),r.jsxs("div",{className:"relative",ref:M,children:[r.jsxs("button",{onClick:()=>j(!w),className:"flex items-center space-x-3 rtl:space-x-reverse p-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg group",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold",children:f?.displayName?.charAt(0)||f?.email?.charAt(0)||"U"}),r.jsxs("div",{className:"hidden sm:block text-left rtl:text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate max-w-32",children:f?.displayName||f?.email}),r.jsx("p",{className:`text-xs px-2 py-0.5 rounded-full ${z(v)}`,children:v})]})]}),r.jsx(c,{size:16,className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-transform duration-200"})]}),w&&r.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 dark:border-gray-700/50 py-2 z-50 transform origin-top-right transition-all duration-200 scale-95 hover:scale-100",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:f?.displayName||"User"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:f?.email}),r.jsx("p",{className:`text-xs px-2 py-1 rounded-full inline-block mt-1 ${z(v)}`,children:v})]}),r.jsxs("button",{onClick:()=>window.location.href="/profile",className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150",children:[r.jsx(b,{size:16,className:"mr-3 rtl:mr-0 rtl:ml-3"}),p("user.profile")]}),r.jsxs("button",{onClick:()=>window.location.href="/profile?tab=settings",className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150",children:[r.jsx(g,{size:16,className:"mr-3 rtl:mr-0 rtl:ml-3"}),p("user.settings")]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),r.jsxs("button",{onClick:async()=>{try{await k()}catch(e){}},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-150",children:[r.jsx(x,{size:16,className:"mr-3 rtl:mr-0 rtl:ml-3"}),p("auth.logout")]})]})]})]})]})})})},U=({isOpen:a,onClose:d,userRole:i="student"})=>{const{t:c,i18n:g}=t(),{user:L,logout:U,userProfile:D}=e(),R=S(),G=E(),T="ar"===g.language,[A,P]=s.useState(!1);s.useEffect(()=>{const e="dark"===localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches;P(e)},[]);const I={admin:[{id:"dashboard",label:c("sidebar.dashboard","Dashboard"),icon:m,path:"/admin/dashboard",description:c("sidebar.dashboard_desc","Overview and statistics")},{id:"users",label:c("sidebar.users","User Management"),icon:u,path:"/admin/users",description:c("sidebar.users_desc","Manage all users and permissions")},{id:"courses",label:c("sidebar.courses","Course Management"),icon:h,path:"/admin/courses",description:c("sidebar.courses_desc","Manage courses and content")},{id:"sessions",label:c("sidebar.sessions","Session Management"),icon:p,path:"/admin/sessions",description:c("sidebar.sessions_desc","Google Meet sessions monitoring")},{id:"analytics",label:c("sidebar.analytics","Analytics"),icon:y,path:"/admin/analytics",description:c("sidebar.analytics_desc","Platform insights and metrics")},{id:"reports",label:c("sidebar.reports","Reports"),icon:f,path:"/admin/reports",description:c("sidebar.reports_desc","System reports and exports")}],teacher:[{id:"dashboard",label:c("sidebar.dashboard","Dashboard"),icon:m,path:"/teacher/dashboard",description:c("sidebar.dashboard_desc","Teaching overview and insights")},{id:"recordings",label:c("sidebar.recordings","My Recordings"),icon:p,path:"/teacher/recordings",description:c("sidebar.recordings_desc","Manage your class recordings")},{id:"sessions",label:c("sidebar.sessions","My Sessions"),icon:k,path:"/teacher/sessions",description:c("sidebar.sessions_desc","Schedule and manage sessions")},{id:"students",label:c("sidebar.students","Students"),icon:u,path:"/teacher/students",description:c("sidebar.students_desc","Manage your students")},{id:"my-courses",label:c("sidebar.my_courses","My Courses"),icon:h,path:"/teacher/my-courses",description:c("sidebar.my_courses_desc","Your teaching courses")},{id:"analytics",label:c("sidebar.analytics","Analytics"),icon:y,path:"/teacher/analytics",description:c("sidebar.analytics_desc","Teaching performance insights")},{id:"messages",label:c("sidebar.messages","Messages"),icon:v,path:"/teacher/messages",description:c("sidebar.messages_desc","Communicate with students")}],student:[{id:"dashboard",label:c("sidebar.dashboard","Dashboard"),icon:m,path:"/student/dashboard",description:c("sidebar.dashboard_desc","Learning overview and progress")},{id:"sessions",label:c("sidebar.sessions","Learning Sessions"),icon:k,path:"/student/sessions",description:c("sidebar.sessions_desc","Join live sessions and classes")},{id:"recordings",label:c("sidebar.recordings","Recordings"),icon:p,path:"/student/recordings",description:c("sidebar.recordings_desc","Watch recorded sessions")},{id:"courses",label:c("sidebar.courses","Browse Courses"),icon:h,path:"/student/courses",description:c("sidebar.courses_desc","Discover and enroll in courses")},{id:"my-courses",label:c("sidebar.my_courses","My Courses"),icon:h,path:"/student/my-courses",description:c("sidebar.my_courses_desc","Your enrolled courses")},{id:"progress",label:c("sidebar.progress","Progress"),icon:w,path:"/student/progress",description:c("sidebar.progress_desc","Track your learning progress")},{id:"teachers",label:c("sidebar.teachers","Teachers"),icon:u,path:"/student/teachers",description:c("sidebar.teachers_desc","View available teachers")}]},O=[{id:"notifications",label:c("sidebar.notifications","Notifications"),icon:n,path:"/notifications",description:c("sidebar.notifications_desc","View your notifications")},{id:"messages",label:c("sidebar.messages","Messages"),icon:j,path:"/messages",description:c("sidebar.messages_desc","Check your messages")},{id:"profile",label:c("sidebar.profile","Profile"),icon:b,path:"/profile",description:c("sidebar.profile_desc","Manage your profile settings")},{id:"help",label:c("sidebar.help","Help & Support"),icon:N,path:"/help",description:c("sidebar.help_desc","Get help and support")}],B=I[i]||[],F=e=>{G(e),d?.()},V=e=>R.pathname===e||R.pathname.startsWith(e+"/"),W=(()=>{switch(i){case"admin":return $;case"teacher":return z;case"student":return _;default:return b}})(),Y=(()=>{switch(i){case"admin":return{gradient:"from-purple-500 to-violet-600",bgGradient:"from-purple-500/15 to-violet-600/15",text:"text-purple-700 dark:text-purple-300",bg:"bg-purple-100/80 dark:bg-purple-900/40",border:"border-purple-200/50 dark:border-purple-700/50"};case"teacher":return{gradient:"from-blue-500 to-cyan-600",bgGradient:"from-blue-500/15 to-cyan-600/15",text:"text-blue-700 dark:text-blue-300",bg:"bg-blue-100/80 dark:bg-blue-900/40",border:"border-blue-200/50 dark:border-blue-700/50"};case"student":return{gradient:"from-green-500 to-emerald-600",bgGradient:"from-green-500/15 to-emerald-600/15",text:"text-green-700 dark:text-green-300",bg:"bg-green-100/80 dark:bg-green-900/40",border:"border-green-200/50 dark:border-green-700/50"};default:return{gradient:"from-gray-500 to-gray-600",bgGradient:"from-gray-500/15 to-gray-600/15",text:"text-gray-700 dark:text-gray-300",bg:"bg-gray-100/80 dark:bg-gray-900/40",border:"border-gray-200/50 dark:border-gray-700/50"}}})();return r.jsxs("div",{className:`\n      fixed inset-y-0 left-0 z-50 w-80 \n      bg-white/85 dark:bg-gray-900/85 backdrop-blur-2xl\n      border-r border-white/40 dark:border-gray-700/40\n      shadow-2xl shadow-black/10 dark:shadow-black/30\n      transform transition-transform duration-300 ease-in-out\n      lg:translate-x-0 lg:static lg:inset-0\n      ${T?"right-0 left-auto":""}\n      ${a?"translate-x-0":"-translate-x-full"}\n      flex flex-col h-screen\n    `,children:[r.jsxs("div",{className:"flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center justify-between h-20 px-6 border-b border-white/30 dark:border-gray-700/30",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg backdrop-blur-sm overflow-hidden",children:r.jsx("img",{src:"/logo.png",alt:"Unique Foundation Logo",className:"w-full h-full rounded-full object-cover"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-400 border-2 border-white dark:border-gray-900 rounded-full shadow-sm"})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Unique Foundation"}),r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:[i," Portal"]})]})]}),r.jsx("button",{onClick:d,className:"lg:hidden p-2 rounded-xl bg-white/50 dark:bg-gray-800/50 hover:bg-white/70 dark:hover:bg-gray-700/70 transition-colors duration-200 backdrop-blur-sm","aria-label":"Close sidebar",children:r.jsx(C,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),r.jsx("div",{className:"p-6 border-b border-white/30 dark:border-gray-700/30",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${Y.gradient} rounded-2xl flex items-center justify-center text-white font-bold text-lg shadow-xl backdrop-blur-sm`,children:L?.displayName?L.displayName.charAt(0).toUpperCase():L?.email?L.email.charAt(0).toUpperCase():"U"}),r.jsx("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 bg-gradient-to-br ${Y.gradient} rounded-full flex items-center justify-center border-2 border-white dark:border-gray-900 shadow-sm backdrop-blur-sm`,children:r.jsx(W,{size:12,className:"text-white"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate text-base",children:L?.displayName||L?.email||"User"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:L?.email||"user@example.com"}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium capitalize backdrop-blur-sm ${Y.bg} ${Y.text} border ${Y.border}`,children:i}),"premium"===D?.subscription?.plan&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-sm backdrop-blur-sm",children:[r.jsx(M,{className:"h-3 w-3 mr-1"}),"Premium"]})]})]})]})})]}),r.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r.jsxs("nav",{className:"px-4 py-6 space-y-2",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider mb-2 backdrop-blur-sm",children:"Main Menu"}),B.map(e=>{const s=e.icon,a=V(e.path);return r.jsxs("button",{onClick:()=>F(e.path),className:"group relative flex items-center w-full px-4 py-4 text-left rtl:text-right rounded-2xl transition-all duration-300 backdrop-blur-sm "+(a?`${Y.bg} ${Y.text} border ${Y.border} shadow-lg`:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-800/50 hover:shadow-md border border-transparent"),children:[a&&r.jsx("div",{className:`absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-gradient-to-b ${Y.gradient} rounded-r-full shadow-sm`}),r.jsx("div",{className:"p-2 rounded-xl transition-all duration-300 backdrop-blur-sm "+(a?`bg-gradient-to-br ${Y.gradient} shadow-lg`:"bg-white/50 dark:bg-gray-800/50 group-hover:bg-white/70 dark:group-hover:bg-gray-700/50"),children:r.jsx(s,{size:20,className:a?"text-white":"text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-200"})}),r.jsxs("div",{className:(T?"mr-3":"ml-3")+" flex-1 min-w-0",children:[r.jsx("span",{className:"font-medium block text-sm truncate",children:e.label}),r.jsx("span",{className:"text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-gray-600 dark:text-gray-400 truncate",children:e.description})]})]},e.id)})]}),r.jsxs("div",{className:"px-4 py-6 border-t border-white/30 dark:border-gray-700/30",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider mb-2 backdrop-blur-sm",children:"General"}),r.jsx("div",{className:"space-y-2",children:O.map(e=>{const s=e.icon,a=V(e.path);return r.jsxs("button",{onClick:()=>F(e.path),className:"group relative flex items-center w-full px-4 py-3 text-left rtl:text-right rounded-xl transition-all duration-300 backdrop-blur-sm "+(a?`${Y.bg} ${Y.text} border ${Y.border} shadow-md`:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-800/50 border border-transparent"),children:[r.jsx(s,{size:18,className:a?Y.text:"text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-200"}),r.jsx("span",{className:(T?"mr-3":"ml-3")+" font-medium text-sm flex-1 text-left",children:e.label}),("notifications"===e.id||"messages"===e.id)&&r.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-red-500 text-white rounded-full min-w-[20px] text-center backdrop-blur-sm shadow-sm",children:"3"})]},e.id)})})]})]})}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"p-4 space-y-2 border-t border-white/30 dark:border-gray-700/30 bg-white/40 dark:bg-gray-800/40 backdrop-blur-sm",children:[r.jsxs("button",{onClick:()=>{const e=!A;P(e),localStorage.setItem("theme",e?"dark":"light"),document.documentElement.classList.toggle("dark",e)},className:"flex items-center w-full px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded-xl transition-all duration-300 hover:bg-white/50 dark:hover:bg-gray-700/50 group backdrop-blur-sm",children:[A?r.jsx(o,{size:18,className:(T?"ml-3":"mr-3")+" group-hover:text-yellow-500 transition-colors"}):r.jsx(l,{size:18,className:(T?"ml-3":"mr-3")+" group-hover:text-blue-500 transition-colors"}),r.jsx("span",{className:"font-medium text-sm flex-1 text-left",children:A?c("sidebar.lightMode","Light Mode"):c("sidebar.darkMode","Dark Mode")})]}),r.jsxs("button",{onClick:async()=>{try{await U(),G("/login")}catch(e){}},className:"flex items-center w-full px-4 py-3 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 rounded-xl transition-all duration-300 hover:bg-red-50/50 dark:hover:bg-red-900/20 group backdrop-blur-sm",children:[r.jsx(x,{size:18,className:(T?"ml-3":"mr-3")+" group-hover:scale-105 transition-transform"}),r.jsx("span",{className:"font-medium text-sm flex-1 text-left",children:c("sidebar.logout","Logout")})]}),r.jsx("div",{className:"pt-2 border-t border-white/30 dark:border-gray-700/30",children:r.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[r.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"v2.0.0"}),r.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600 dark:text-green-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Online"})]})]})})]})})]})},D=({children:e,role:a="student"})=>{const[t,d]=s.useState(!1),[i,o]=s.useState(!1);s.useEffect(()=>{(()=>{const e=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches,s="dark"===e||!e&&r;d(s),document.documentElement.classList.toggle("dark",s)})()},[]);const l=s.useCallback(()=>{const e=!t;d(e),document.documentElement.classList.toggle("dark",e),localStorage.setItem("theme",e?"dark":"light")},[t]),n=s.useCallback(()=>{o(!1)},[]),c=s.useCallback(()=>{o(e=>!e)},[]);s.useEffect(()=>{const e=e=>{"Escape"===e.key&&i&&n()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i,n]);const b=s.useCallback(e=>{e.target===e.currentTarget&&n()},[n]);return r.jsxs("div",{className:`min-h-screen ${(()=>{switch(a){case"admin":return"bg-gradient-to-br from-purple-50 to-indigo-100 dark:from-gray-900 dark:to-purple-900";case"teacher":return"bg-gradient-to-br from-blue-50 to-cyan-100 dark:from-gray-900 dark:to-blue-900";case"student":return"bg-gradient-to-br from-green-50 to-emerald-100 dark:from-gray-900 dark:to-green-900";default:return"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800"}})()} transition-colors duration-300`,children:[r.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-200 dark:bg-blue-900 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-20 animate-pulse"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-200 dark:bg-purple-900 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-20 animate-pulse delay-1000"}),r.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-pink-200 dark:bg-pink-900 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-20 animate-pulse delay-500"})]}),r.jsxs("div",{className:"relative z-10 flex h-screen overflow-hidden",children:[i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden transition-opacity duration-300",onClick:b,"aria-hidden":"true"}),r.jsx("aside",{className:`\n            fixed inset-y-0 left-0 z-50 w-80 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl\n            border-r border-white/20 dark:border-gray-700/50 shadow-2xl\n            transform transition-transform duration-300 ease-in-out\n            lg:translate-x-0 lg:static lg:inset-auto\n            ${i?"translate-x-0":"-translate-x-full"}\n          `,"aria-label":"Sidebar navigation",children:r.jsx(U,{isOpen:i,onClose:n,userRole:a})}),r.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-0 overflow-hidden",children:[r.jsx(L,{onMenuClick:c,isDarkMode:t,toggleDarkMode:l,userRole:a}),r.jsx("main",{className:"flex-1 overflow-auto p-4 lg:p-6 transition-all duration-300",children:r.jsx("div",{className:"max-w-7xl mx-auto w-full",children:e})})]})]})]})};export{D as default};
