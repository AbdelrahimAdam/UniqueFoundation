var e=Object.defineProperty,s=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(s,r,t)=>r in s?e(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t,d=(e,s)=>{for(var r in s||(s={}))a.call(s,r)&&i(e,r,s[r]);if(t)for(var r of t(s))l.call(s,r)&&i(e,r,s[r]);return e},n=(e,t)=>s(e,r(t));import{j as c,L as o}from"./index-c63f14c2.js";import{r as x}from"./vendor-c3615fdd.js";import"./firebase-9a5fb30d.js";import{c as m}from"./courseService-fdde1342.js";import{B as h}from"./Button-4635154f.js";import{u}from"./useTranslation-89f0f982.js";import{P as g,B as b,j,C as p,b as y,n as f,o as w,d as N,a as v,q as k,p as C}from"./ui-e3d8d230.js";import"./router-4adec120.js";import"./utils-5b9d0682.js";const P=()=>{u();const[e,s]=x.useState([]),[r,t]=x.useState(!0),[a,l]=x.useState(""),[i,P]=x.useState("all"),[S,O]=x.useState({});x.useEffect(()=>{L()},[]);const L=async()=>{try{t(!0);const e=await m.getAllCourses();s(e)}catch(e){}finally{t(!1)}},z=e.filter(e=>{var s,r,t;const l=(null==(s=e.title)?void 0:s.toLowerCase().includes(a.toLowerCase()))||(null==(r=e.description)?void 0:r.toLowerCase().includes(a.toLowerCase()))||(null==(t=e.instructorName)?void 0:t.toLowerCase().includes(a.toLowerCase())),d="all"===i||"published"===i&&e.isPublished||"draft"===i&&!e.isPublished;return l&&d}),D={total:e.length,published:e.filter(e=>e.isPublished).length,draft:e.filter(e=>!e.isPublished).length,totalStudents:e.reduce((e,s)=>e+(s.studentsCount||0),0)};return r?c.jsx("div",{className:"flex items-center justify-center min-h-96",children:c.jsx(o,{size:"lg"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Course Management"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all courses and learning content"})]}),c.jsxs(h,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Create Course"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Courses"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D.total})]}),c.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:c.jsx(b,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Published"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D.published})]}),c.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:c.jsx(j,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Draft"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D.draft})]}),c.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:c.jsx(p,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Students"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D.totalStudents})]}),c.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:c.jsx(y,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search courses...",value:a,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("select",{value:i,onChange:e=>P(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"published",children:"Published"}),c.jsx("option",{value:"draft",children:"Draft"})]}),c.jsxs(h,{variant:"outline",children:[c.jsx(w,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:z.map(e=>{var s;return c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-all duration-300",children:[c.jsxs("div",{className:"h-48 bg-gradient-to-br from-purple-500 to-pink-500 relative",children:[e.thumbnailUrl?c.jsx("img",{src:e.thumbnailUrl,alt:e.title,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(b,{className:"h-12 w-12 text-white opacity-80"})}),c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+(e.isPublished?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"),children:e.isPublished?"Published":"Draft"})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex items-start justify-between mb-3",children:c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg line-clamp-2",children:e.title})}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:e.description||"No description provided"}),c.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx(y,{className:"h-4 w-4 mr-1"}),e.studentsCount||0," students"]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx(N,{className:"h-4 w-4 mr-1"}),new Date(e.createdAt).toLocaleDateString()]})]})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:(null==(s=e.instructorName)?void 0:s.charAt(0))||"I"}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.instructorName})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(h,{size:"sm",variant:"outline",children:c.jsx(v,{className:"h-4 w-4"})}),c.jsx(h,{size:"sm",variant:"outline",children:c.jsx(k,{className:"h-4 w-4"})}),e.isPublished?c.jsx(h,{size:"sm",variant:"outline",onClick:()=>(async e=>{try{O(s=>n(d({},s),{[e]:!0})),await m.unpublishCourse(e),await L()}catch(s){}finally{O(s=>n(d({},s),{[e]:!1}))}})(e.id),disabled:S[e.id],children:c.jsx(C,{className:"h-4 w-4"})}):c.jsx(h,{size:"sm",onClick:()=>(async e=>{try{O(s=>n(d({},s),{[e]:!0})),await m.publishCourse(e),await L()}catch(s){}finally{O(s=>n(d({},s),{[e]:!1}))}})(e.id),disabled:S[e.id],children:c.jsx(j,{className:"h-4 w-4"})})]})]})]})]},e.id)})}),0===z.length&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(b,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No courses found"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:a||"all"!==i?"Try adjusting your search or filters":"Get started by creating your first course"}),c.jsxs(h,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[c.jsx(g,{className:"h-4 w-4 mr-2"}),"Create Course"]})]})]})};export{P as default};
