import{r as e,j as r,at as t,af as a,A as s,K as l,t as n}from"./vendor-react-b59152ff.js";const d=({label:d,options:o=[],value:i,onChange:c,placeholder:u="Select an option...",disabled:g=!1,error:x="",required:b=!1,searchable:y=!1,multi:f=!1,className:m="",icon:h,size:p="md",variant:k="default"})=>{const[v,j]=e.useState(!1),[w,N]=e.useState(""),[E,$]=e.useState(-1),C=e.useRef(null),L=e.useRef(null),S=e.useRef([]),z=y?o.filter(e=>e.label.toLowerCase().includes(w.toLowerCase())&&!e.hidden):o.filter(e=>!e.hidden),A=f&&Array.isArray(i)?i:[],D=f?null:o.find(e=>e.value===i);e.useEffect(()=>{const e=e=>{C.current&&!C.current.contains(e.target)&&(j(!1),N(""),$(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e.useEffect(()=>{v&&y&&L.current&&L.current.focus()},[v,y]),e.useEffect(()=>{$(-1)},[z.length]),e.useEffect(()=>{const e=e=>{if(v)switch(e.key){case"Escape":case"Tab":j(!1),N(""),$(-1);break;case"ArrowDown":e.preventDefault(),$(e=>e<z.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),$(e=>e>0?e-1:z.length-1);break;case"Enter":e.preventDefault(),E>=0&&z[E]&&R(z[E])}};return v&&document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[v,E,z]),e.useEffect(()=>{E>=0&&S.current[E]&&S.current[E].scrollIntoView({block:"nearest",behavior:"smooth"})},[E]);const R=e=>{if(!e.disabled)if(f){const r=A.includes(e.value)?A.filter(r=>r!==e.value):[...A,e.value];null==c||c(r)}else null==c||c(e.value),j(!1),N("")};return r.jsxs("div",{className:`relative ${m}`,ref:C,children:[d&&r.jsxs("label",{className:"block text-sm font-medium mb-2 "+(x?"text-red-600 dark:text-red-400":"text-gray-700 dark:text-gray-300"),children:[d,b&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:`${(()=>{const e="w-full text-left border rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1";if(g)return`${e} bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-400 dark:text-gray-500 cursor-not-allowed`;if(x)return`${e} bg-white dark:bg-gray-800 border-red-500 dark:border-red-400 focus:ring-red-500 focus:border-red-500 text-gray-900 dark:text-white`;switch(k){case"outline":default:return`${e} bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-white hover:border-gray-400 dark:hover:border-gray-500`;case"filled":return`${e} bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600`}})()} ${(()=>{switch(p){case"sm":return"px-3 py-1.5 text-sm";case"lg":return"px-4 py-3 text-base";default:return"px-4 py-2.5 text-sm"}})()} ${v?"ring-2 ring-blue-500 border-blue-500":""} flex items-center justify-between cursor-pointer`,onClick:()=>{g||(j(!v),N(""),$(-1))},children:[r.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[h&&r.jsx(h,{className:"h-4 w-4 mr-2 "+(x?"text-red-500":"text-gray-400")}),r.jsx("div",{className:"flex-1 truncate",children:f&&A.length>0?r.jsxs("div",{className:"flex flex-wrap gap-1",children:[A.slice(0,2).map(e=>{const t=o.find(r=>r.value===e);return r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:[(null==t?void 0:t.label)||e,r.jsx("button",{type:"button",onClick:r=>((e,r)=>{if(r.stopPropagation(),f){const r=A.filter(r=>r!==e);null==c||c(r)}})(e,r),className:"ml-1 hover:text-blue-600 dark:hover:text-blue-200",children:"×"})]},e)}),A.length>2&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400",children:["+",A.length-2," more"]})]}):r.jsx("span",{className:D?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400",children:(()=>{if(f){if(0===A.length)return u;if(1===A.length){const e=o.find(e=>e.value===A[0]);return(null==e?void 0:e.label)||A[0]}return`${A.length} selected`}return(null==D?void 0:D.label)||u})()})})]}),i&&!g&&!f&&r.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),f?null==c||c([]):null==c||c("")},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded mr-1",children:"×"}),r.jsx("div",{className:"flex items-center space-x-1",children:!g&&r.jsx("div",{className:"text-gray-400",children:v?r.jsx(t,{size:16}):r.jsx(a,{size:16})})})]}),x&&r.jsxs("div",{className:"flex items-center mt-1.5 space-x-1 text-red-600 dark:text-red-400",children:[r.jsx(s,{size:14}),r.jsx("span",{className:"text-xs",children:x})]}),v&&r.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-auto animate-fade-in",children:[y&&r.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"relative",children:[r.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{ref:L,type:"text",value:w,onChange:e=>{N(e.target.value),$(-1)},placeholder:"Search options...",className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),r.jsx("div",{className:"py-1",children:0===z.length?r.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center",children:w?"No options found":"No options available"}):z.map((e,t)=>{const a=(s=e.value,f?A.includes(s):i===s);var s;const l=t===E;return r.jsxs("div",{ref:e=>S.current[t]=e,className:`px-4 py-2 text-sm cursor-pointer transition-colors duration-150 ${e.disabled?"text-gray-400 dark:text-gray-500 cursor-not-allowed bg-gray-50 dark:bg-gray-800":""+(l?"bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700")} ${a&&!e.disabled?"bg-blue-50 dark:bg-blue-900/30 text-blue-900 dark:text-blue-100 font-medium":""}`,onClick:()=>R(e),onMouseEnter:()=>$(t),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"truncate",children:e.label}),a&&!e.disabled&&r.jsx(n,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 flex-shrink-0 ml-2"})]}),e.description&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.description})]},e.value)})}),f&&A.length>0&&r.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50",children:r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[A.length," option",1!==A.length?"s":""," selected"]})})]})]})};d.propTypes={};export{d as S};
