const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateSessionModal-BROzwxVA.js","assets/index-CI4zpFZI.js","assets/vendor-BhyxaAfg.js","assets/router-C3Im-STG.js","assets/firebase-BFqJWPH6.js","assets/utils-nJVaOoPq.js","assets/index-iSutoBHH.css","assets/index.esm-Vr2sJyeS.js","assets/Select-BXp-jGT8.js","assets/utils-FV6rFRcL.js","assets/ui-BAjx5vmw.js","assets/Button-ye-G-80u.js","assets/sessionService-CZ53Cjk9.js","assets/useTranslation-D7bftQm-.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(s,a,t)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,d=(e,s)=>{for(var a in s||(s={}))r.call(s,a)&&i(e,a,s[a]);if(t)for(var a of t(s))l.call(s,a)&&i(e,a,s[a]);return e},n=(e,t)=>s(e,a(t));import{d as o,j as c,L as x,_ as m}from"./index-CI4zpFZI.js";import{a as g,r as h}from"./router-C3Im-STG.js";import{B as u}from"./Button-ye-G-80u.js";import{u as p}from"./userService-DSfDdgOB.js";import{A as b,B as y,D as j,G as v,H as f,I as N,J as k,s as w}from"./firebase-BFqJWPH6.js";import{r as S}from"./recordingService-DLOKybmB.js";import{u as C}from"./useTranslation-D7bftQm-.js";import{b as A,V as D,B as U,c as T,C as L,R as $,D as P,F as R,P as M,G as z,d as _,U as E,e as O,f as B,a as F,S as I,g as G,X as V,h as J,A as q,Z as H,i as K}from"./ui-BAjx5vmw.js";import"./vendor-BhyxaAfg.js";import"./utils-nJVaOoPq.js";const Q=h.lazy(()=>m(()=>import("./CreateSessionModal-BROzwxVA.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),W=["dashboard","users","courses","sessions","analytics"],Z=g.memo(()=>{const{t:e}=C(),[s,a]=h.useState("dashboard"),[t,r]=h.useState([]),[l,i]=h.useState([]),[m,g]=h.useState([]),[Z,X]=h.useState([]),[Y,ee]=h.useState(!0),[se,ae]=h.useState(!0),[te,re]=h.useState({totalUsers:0,activeSessions:0,totalCourses:0,totalRecordings:0,pendingUsers:0,storageUsed:0,totalDuration:0,meetSessions:0,recordedSessions:0,upcomingSessions:0}),[le,ie]=h.useState([]),[de,ne]=h.useState(null),[oe,ce]=h.useState(null),[xe,me]=h.useState({}),[ge,he]=h.useState(""),[ue,pe]=h.useState("all"),[be,ye]=h.useState(!1),je=e=>{if(!e)return"Never";const s=new Date,a=Math.floor((s-new Date(e))/1e3);return a<60?"Just now":a<3600?`${Math.floor(a/60)}m ago`:a<86400?`${Math.floor(a/3600)}h ago`:a<2592e3?`${Math.floor(a/86400)}d ago`:new Date(e).toLocaleDateString()},ve=e=>{if(!e)return"0 B";const s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["B","KB","MB","GB"][s]},fe=e=>{if(!e)return"0:00";const s=Math.floor(e/3600),a=Math.floor(e%3600/60),t=Math.floor(e%60);return s>0?`${s}:${a.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`:`${a}:${t.toString().padStart(2,"0")}`},Ne=h.useCallback(async()=>{var e;try{ee(!0),ae(!0),ne(null),ce(null),await we(),await Se(),await ke(),await Ce(),await Ae()}catch(s){(null==(e=s.message)?void 0:e.includes("index"))||"failed-precondition"===s.code?ce("Some advanced features require Firestore indexes. Basic data is loaded."):ne("Failed to load dashboard data. Please try refreshing the page.")}finally{ee(!1),ae(!1)}},[]),ke=h.useCallback(async()=>{try{const[e,s]=await Promise.all([b(y(j(o,"recordings"),v("isPublished","==",!0),v("status","==","completed"),f("createdAt","desc"),N(50))),b(y(j(o,"sessions"),v("status","in",["scheduled","live"]),f("scheduledTime","desc"),N(50)))]),a=e.docs.map(e=>{var s,a;return n(d({id:e.id},e.data()),{createdAt:null==(a=null==(s=e.data().createdAt)?void 0:s.toDate)?void 0:a.call(s),duration:e.data().duration||0,fileSize:e.data().fileSize||0})}),t=s.docs.map(e=>{var s,a,t,r,l,i,o,c;return n(d({id:e.id},e.data()),{scheduledTime:null==(a=null==(s=e.data().scheduledTime)?void 0:s.toDate)?void 0:a.call(s),sessionEndTime:null==(r=null==(t=e.data().sessionEndTime)?void 0:t.toDate)?void 0:r.call(t),createdAt:null==(i=null==(l=e.data().createdAt)?void 0:l.toDate)?void 0:i.call(l),updatedAt:null==(c=null==(o=e.data().updatedAt)?void 0:o.toDate)?void 0:c.call(o)})});g(a),X(t)}catch(e){const[s,a]=await Promise.all([b(y(j(o,"recordings"),N(50))),b(y(j(o,"sessions"),N(50)))]);g(s.docs.map(e=>d({id:e.id},e.data()))),X(a.docs.map(e=>d({id:e.id},e.data())))}},[]),we=h.useCallback(async()=>{try{const e=await p.getAllUsers();r(e)}catch(e){r([])}},[]),Se=h.useCallback(async()=>{try{const e=y(j(o,"courses"),f("createdAt","desc"),N(50)),s=(await b(e)).docs.map(e=>{var s,a,t,r;return n(d({id:e.id},e.data()),{createdAt:null==(a=null==(s=e.data().createdAt)?void 0:s.toDate)?void 0:a.call(s),updatedAt:null==(r=null==(t=e.data().updatedAt)?void 0:t.toDate)?void 0:r.call(t)})});i(s)}catch(e){i([])}},[]),Ce=h.useCallback(async()=>{try{const[e,s,a,t]=await Promise.all([k(j(o,"users")),k(j(o,"courses")),k(y(j(o,"recordings"),v("isPublished","==",!0))),k(y(j(o,"users"),v("isActive","==",!1)))]),r=m.reduce((e,s)=>e+(s.fileSize||0),0),l=m.reduce((e,s)=>e+(s.duration||0),0),i=new Date,d=Z.filter(e=>{const s=e.scheduledTime,a=e.sessionEndTime;return s&&a&&i>=s&&i<=a&&"live"===e.status}).length;re({totalUsers:e.data().count,activeSessions:d,totalCourses:s.data().count,totalRecordings:a.data().count,pendingUsers:t.data().count,storageUsed:r,totalDuration:l,meetSessions:Z.filter(e=>e.meetLink).length,recordedSessions:m.filter(e=>e.isPublished).length,upcomingSessions:Z.filter(e=>"scheduled"===e.status).length})}catch(e){const s=m.reduce((e,s)=>e+(s.fileSize||0),0),a=m.reduce((e,s)=>e+(s.duration||0),0),r=new Date,i=Z.filter(e=>{const s=e.scheduledTime,a=e.sessionEndTime;return s&&a&&r>=s&&r<=a&&"live"===e.status}).length;re({totalUsers:t.length,activeSessions:i,totalCourses:l.length,totalRecordings:m.length,pendingUsers:t.filter(e=>!e.isActive).length,storageUsed:s,totalDuration:a,meetSessions:Z.filter(e=>e.meetLink).length,recordedSessions:m.filter(e=>e.isPublished).length,upcomingSessions:Z.filter(e=>"scheduled"===e.status).length})}},[t,l,m,Z]),Ae=h.useCallback(async()=>{try{const e=await De(t,l,m,Z);ie(e.slice(0,5))}catch(e){ie([])}},[t,l,m,Z]),De=h.useCallback(async(e,s,a,t=[])=>{const r=[],l=new Date;return e.slice(0,3).forEach((e,s)=>{const a=new Date(l.getTime()-2*(s+1)*60*60*1e3);r.push({id:`user-${e.id}`,type:"user_joined",userName:e.displayName||e.email,userEmail:e.email,timestamp:e.createdAt||a,message:`${e.displayName||e.email} joined the platform`})}),s.slice(0,2).forEach((e,s)=>{const a=new Date(l.getTime()-4*(s+1)*60*60*1e3);r.push({id:`course-${e.id}`,type:"course_created",userName:e.instructorName||"Instructor",courseName:e.title,timestamp:e.createdAt||a,message:`Course "${e.title}" was created`})}),t.slice(0,3).forEach((e,s)=>{const a=new Date(l.getTime()-3*(s+1)*60*60*1e3);r.push({id:`session-${e.id}`,type:"session_scheduled",userName:e.instructorName||e.createdBy||"System",sessionName:e.title||e.topic,timestamp:e.createdAt||a,message:`Session "${e.title||e.topic}" was scheduled`})}),a.slice(0,2).forEach((e,s)=>{const a=new Date(l.getTime()-6*(s+1)*60*60*1e3);r.push({id:`recording-${e.id}`,type:"recording_created",userName:e.instructorName||e.createdBy||"User",timestamp:e.createdAt||a,message:`New recording uploaded by ${e.instructorName||e.createdBy||"User"}`})}),r.sort((e,s)=>new Date(s.timestamp)-new Date(e.timestamp))},[]);h.useEffect(()=>{const e=Ue();return()=>e()},[]),h.useEffect(()=>{Ne()},[Ne]);const Ue=()=>{const e=[];try{const s=y(j(o,"users"),f("createdAt","desc"),N(20)),a=w(s,e=>{const s=e.docs.map(e=>{var s,a,t,r,l,i;return n(d({id:e.id},e.data()),{createdAt:null==(a=null==(s=e.data().createdAt)?void 0:s.toDate)?void 0:a.call(s),lastLogin:null==(r=null==(t=e.data().lastLogin)?void 0:t.toDate)?void 0:r.call(t),approvedAt:null==(i=null==(l=e.data().approvedAt)?void 0:l.toDate)?void 0:i.call(l)})});r(s)},e=>{});e.push(a)}catch(s){}return()=>e.forEach(e=>e())},Te=h.useCallback(async e=>{try{ne(null),me(s=>n(d({},s),{[e]:!0})),await p.approveUser(e),await we()}catch(s){ne("Failed to approve user. Please try again.")}finally{me(s=>n(d({},s),{[e]:!1}))}},[we]),Le=h.useCallback(async e=>{try{ne(null),me(s=>n(d({},s),{[e]:!0})),await p.deactivateUser(e,"Deactivated by admin"),await we()}catch(s){ne("Failed to deactivate user. Please try again.")}finally{me(s=>n(d({},s),{[e]:!1}))}},[we]),$e=h.useCallback(async e=>{try{ne(null),me(s=>n(d({},s),{[e]:!0})),await p.reactivateUser(e),await we()}catch(s){ne("Failed to reactivate user. Please try again.")}finally{me(s=>n(d({},s),{[e]:!1}))}},[we]),Pe=h.useCallback(async(e,s)=>{try{ne(null),me(s=>n(d({},s),{[e]:!0})),await p.changeUserRole(e,s),await we()}catch(a){ne("Failed to change user role. Please try again.")}finally{me(s=>n(d({},s),{[e]:!1}))}},[we]),Re=h.useCallback(async e=>{const s=prompt("Enter the Google Drive recording URL:");if(s)try{ne(null),me(s=>n(d({},s),{[e]:!0})),await S.updateWithDriveRecording(e,{recordingUrl:s,duration:60,fileSize:250,isPublished:!0,status:"completed",recordingStatus:"available"}),await ke()}catch(a){ne("Failed to add recording. Please try again.")}finally{me(s=>n(d({},s),{[e]:!1}))}},[ke]),Me=h.useCallback(()=>{Ne()},[Ne]),ze=()=>{window.open("https://console.firebase.google.com/project/_/firestore/indexes","_blank")},_e=()=>{const e={users:t.map(e=>{var s;return{Name:e.displayName,Email:e.email,Role:e.role,Status:e.isActive?"Active":"Inactive","Joined Date":null==(s=e.createdAt)?void 0:s.toLocaleDateString()}}),sessions:Z.map(e=>{var s;return{Title:e.title||e.topic,"Meet Link":e.meetLink||"N/A","Scheduled Time":null==(s=e.scheduledTime)?void 0:s.toLocaleString(),Status:e.status,Instructor:e.instructorName||"Unknown"}}),recordings:m.map(e=>({Title:e.title,"Drive Link":e.recordingUrl||"N/A",Duration:`${e.duration||0} minutes`,"File Size":`${e.fileSize||0} MB`,Status:e.isPublished?"Published":"Unpublished"}))},s=Object.entries(e).map(([e,s])=>{const a=Object.keys(s[0]||{}).join(","),t=s.map(e=>Object.values(e).join(","));return[`${e.toUpperCase()}\n${a}\n${t.join("\n")}`].join("\n")}).join("\n\n"),a=new Blob([s],{type:"text/csv"}),r=window.URL.createObjectURL(a),l=document.createElement("a");l.href=r,l.download=`admin-export-${(new Date).toISOString().split("T")[0]}.csv`,l.click(),window.URL.revokeObjectURL(r)},Ee=h.useMemo(()=>t.filter(e=>{var s,a,t;const r=(null==(s=e.displayName)?void 0:s.toLowerCase().includes(ge.toLowerCase()))||(null==(a=e.email)?void 0:a.toLowerCase().includes(ge.toLowerCase()))||(null==(t=e.role)?void 0:t.toLowerCase().includes(ge.toLowerCase())),l="all"===ue||"active"===ue&&e.isActive||"pending"===ue&&!e.isActive&&"pending"===e.approvalStatus||"inactive"===ue&&"deactivated"===e.approvalStatus;return r&&l}),[t,ge,ue]),Oe=h.useMemo(()=>[{name:"Total Users",value:te.totalUsers.toLocaleString(),icon:A,change:`${te.pendingUsers} pending`,changeType:te.pendingUsers>0?"warning":"positive",color:"from-purple-500 to-violet-600",bgColor:"from-purple-500/10 to-violet-600/10",description:"Total registered users",loading:se},{name:"Active Sessions",value:te.activeSessions.toString(),icon:D,change:`${te.meetSessions} total sessions`,changeType:te.activeSessions>0?"positive":"neutral",color:"from-green-500 to-emerald-600",bgColor:"from-green-500/10 to-emerald-600/10",description:"Live sessions",loading:se},{name:"Total Courses",value:te.totalCourses.toString(),icon:U,change:`${l.filter(e=>e.isPublished).length} published`,changeType:"neutral",color:"from-blue-500 to-cyan-600",bgColor:"from-blue-500/10 to-cyan-600/10",description:"Available courses",loading:se},{name:"Available Recordings",value:te.recordedSessions.toString(),icon:T,change:`${te.upcomingSessions} upcoming sessions`,changeType:"neutral",color:"from-orange-500 to-red-600",bgColor:"from-orange-500/10 to-red-600/10",description:"Published recordings",loading:se}],[te,l,se]),Be=h.useMemo(()=>[{title:"Manage Users",description:"View and manage all user accounts",icon:A,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-500/10 dark:bg-purple-500/20",action:()=>a("users")},{title:"Create Session",description:"Schedule new teaching session",icon:D,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-500/10 dark:bg-green-500/20",action:()=>ye(!0)},{title:"View Sessions",description:"Manage scheduled sessions",icon:L,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-500/10 dark:bg-blue-500/20",action:()=>a("sessions")}],[]),Fe=e=>{switch(e){case"course_created":return"text-purple-600 dark:text-purple-400";case"user_joined":return"text-blue-600 dark:text-blue-400";case"recording_created":return"text-green-600 dark:text-green-400";case"session_scheduled":return"text-orange-600 dark:text-orange-400";default:return"text-gray-600 dark:text-gray-400"}},Ie=e=>e.message||`${e.userName} ${e.type.replace("_"," ")}`,Ge=h.useCallback(e=>{Ne()},[Ne]);return c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"text-center lg:text-left",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-purple-600 via-violet-600 to-indigo-600 bg-clip-text text-transparent mb-3",children:"Admin Dashboard"}),c.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl",children:"Manage your platform and monitor teaching sessions"})]}),c.jsxs(u,{onClick:Me,variant:"outline",className:"hidden lg:flex items-center",children:[c.jsx($,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]})}),c.jsx("div",{className:"glass-light dark:glass-dark backdrop-blur-lg rounded-2xl border border-white/20 dark:border-gray-700/50 p-2 shadow-depth-4",children:c.jsx("nav",{className:"flex space-x-2 rtl:space-x-reverse overflow-x-auto",children:W.map(e=>c.jsx("button",{onClick:()=>a(e),className:"flex-1 lg:flex-none px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-300 whitespace-nowrap "+(s===e?"bg-gradient-to-r from-purple-500 to-violet-600 text-white shadow-lg transform scale-105":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50/50 dark:hover:bg-gray-700/50"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),c.jsx("div",{className:"animate-fade-in",children:(()=>{if(Y&&"dashboard"===s)return c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx(x,{size:"lg"})});switch(s){case"dashboard":return c.jsxs("div",{className:"space-y-8",children:[oe&&c.jsx("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-3xl border border-yellow-200/50 dark:border-yellow-800/50 p-6 shadow-depth-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(J,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5 mr-3 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm font-medium mb-2",children:"Firestore Index Required"}),c.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 text-sm mb-3",children:oe}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(u,{size:"sm",onClick:ze,className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white",children:"Create Index"}),c.jsx(u,{size:"sm",variant:"outline",onClick:()=>ce(null),children:"Dismiss"})]})]})]})}),de&&c.jsx("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-3xl border border-red-200/50 dark:border-red-800/50 p-6 shadow-depth-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(q,{className:"h-5 w-5 text-red-500 mr-3"}),c.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm flex-1",children:de}),c.jsx("button",{onClick:()=>ne(null),className:"ml-auto text-red-500 hover:text-red-700",children:c.jsx(V,{className:"h-4 w-4"})})]})}),c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:Oe.map((e,s)=>{const a=e.icon;return c.jsxs("div",{className:"group relative overflow-hidden glass-light dark:glass-dark backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/50 p-6 shadow-depth-4 hover:shadow-depth-5 transition-all duration-500 hover:scale-105 card-3d",style:{animationDelay:100*s+"ms"},children:[c.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-br ${e.bgColor} rounded-3xl`}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:`p-3 rounded-2xl bg-gradient-to-br ${e.color} shadow-lg shadow-purple-500/25`,children:c.jsx(a,{className:"h-6 w-6 text-white"})}),c.jsx("div",{className:"text-sm font-semibold "+("positive"===e.changeType?"text-green-600 dark:text-green-400":"warning"===e.changeType?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400"),children:e.change})]}),e.loading?c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"})]}):c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e.value}),c.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e.name}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.description})]})]})]},e.name)})}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/50 p-6 shadow-depth-4 hover:shadow-depth-5 transition-all duration-300 card-hover",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Quick Actions"}),c.jsx(H,{className:"h-5 w-5 text-yellow-500"})]}),c.jsx("div",{className:"space-y-4",children:Be.map((e,s)=>{const a=e.icon;return c.jsxs("button",{onClick:e.action,className:"w-full flex items-center p-4 rounded-2xl bg-gray-50/50 dark:bg-gray-700/50 backdrop-blur-sm border border-gray-200/50 dark:border-gray-600/50 hover:bg-white/80 dark:hover:bg-gray-600/80 hover:scale-105 transition-all duration-300 group hover-lift",style:{animationDelay:150*s+"ms"},children:[c.jsx("div",{className:`p-3 rounded-xl ${e.bgColor} mr-4 group-hover:scale-110 transition-transform duration-300`,children:c.jsx(a,{className:`h-5 w-5 ${e.color}`})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-base",children:e.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),c.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:c.jsx(M,{className:"h-4 w-4 text-gray-400"})})]},e.title)})})]}),c.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/50 p-6 shadow-depth-4 hover:shadow-depth-5 transition-all duration-300 card-hover",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Recent Activity"}),c.jsx(K,{className:"h-5 w-5 text-blue-500"})]}),c.jsx("div",{className:"space-y-4",children:le.length>0?le.map((e,s)=>{const a=(e=>{switch(e){case"course_created":return U;case"user_joined":return A;case"recording_created":return D;case"session_scheduled":return L;default:return H}})(e.type);return c.jsxs("div",{className:"flex items-center p-4 rounded-2xl bg-gray-50/50 dark:bg-gray-700/50 backdrop-blur-sm border border-gray-200/50 dark:border-gray-600/50 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-300 group",style:{animationDelay:100*s+"ms"},children:[c.jsx("div",{className:"p-3 rounded-xl bg-gray-200/50 dark:bg-gray-600/50 mr-4 group-hover:scale-110 transition-transform duration-300",children:c.jsx(a,{className:`h-5 w-5 ${Fe(e.type)}`})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm text-gray-900 dark:text-white truncate",children:Ie(e)}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:je(e.timestamp)})]})]},e.id)}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(H,{className:"mx-auto h-12 w-12 text-gray-400 mb-3"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No recent activities"})]})})]})]})]});case"users":return c.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/50 shadow-depth-4 overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-5 border-b border-gray-200/50 dark:border-gray-700/50",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"User Management"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage all user accounts and permissions"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(u,{onClick:Me,variant:"outline",className:"flex items-center",children:[c.jsx($,{className:"h-4 w-4 mr-2"}),"Refresh"]}),c.jsxs(u,{className:"bg-gradient-to-r from-purple-500 to-violet-600 hover:from-purple-600 hover:to-violet-700",children:[c.jsx(M,{className:"h-4 w-4 mr-2"}),"Invite User"]})]})]}),c.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx("input",{type:"text",placeholder:"Search users by name, email, or role...",value:ge,onChange:e=>he(e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl bg-white/50 dark:bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent backdrop-blur-sm"})}),c.jsxs("select",{value:ue,onChange:e=>pe(e.target.value),className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-2xl bg-white/50 dark:bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent backdrop-blur-sm",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),c.jsx("div",{className:"p-6",children:Y?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx(x,{size:"lg"})}):Ee.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"min-w-full inline-block align-middle",children:c.jsx("div",{className:"overflow-hidden rounded-2xl border border-gray-200/50 dark:border-gray-700/50",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200/50 dark:divide-gray-700/50",children:[c.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-700/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider",children:"User"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider",children:"Role"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white/50 dark:bg-gray-800/50 divide-y divide-gray-200/50 dark:divide-gray-700/50",children:Ee.map((e,s)=>{var a,t;return c.jsxs("tr",{className:"hover:bg-gray-50/80 dark:hover:bg-gray-700/80 transition-colors duration-200",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:c.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-violet-600 flex items-center justify-center text-white text-sm font-bold shadow-lg",children:(null==(a=e.displayName)?void 0:a.charAt(0))||(null==(t=e.email)?void 0:t.charAt(0))||"U"})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.displayName||"No Name"}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email}),c.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Joined ",je(e.createdAt)]})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium "+(e.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"pending"===e.approvalStatus?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:e.isActive?"Active":e.approvalStatus||"Inactive"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("select",{value:e.role,onChange:s=>Pe(e.id,s.target.value),disabled:xe[e.id],className:"text-xs font-medium capitalize rounded-xl px-3 py-2 border focus:outline-none focus:ring-2 focus:ring-purple-500 backdrop-blur-sm "+("admin"===e.role?"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":"teacher"===e.role?"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800":"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800"),children:[c.jsx("option",{value:"student",children:"Student"}),c.jsx("option",{value:"teacher",children:"Teacher"}),c.jsx("option",{value:"admin",children:"Admin"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsx("div",{className:"flex space-x-2",children:e.isActive||"pending"!==e.approvalStatus?e.isActive?c.jsxs(u,{variant:"outline",size:"sm",onClick:()=>Le(e.id),disabled:xe[e.id],className:"border-red-300 text-red-700 hover:bg-red-50 dark:border-red-700 dark:text-red-400 dark:hover:bg-red-900/20 text-xs",children:[xe[e.id]?c.jsx($,{className:"h-3 w-3 animate-spin"}):c.jsx(V,{className:"h-3 w-3"}),c.jsx("span",{className:"ml-1",children:"Deactivate"})]}):c.jsxs(u,{size:"sm",onClick:()=>$e(e.id),disabled:xe[e.id],className:"bg-gradient-to-r from-purple-500 to-violet-500 hover:from-purple-600 hover:to-violet-600 text-xs",children:[xe[e.id]?c.jsx($,{className:"h-3 w-3 animate-spin"}):c.jsx($,{className:"h-3 w-3"}),c.jsx("span",{className:"ml-1",children:"Reactivate"})]}):c.jsxs(u,{size:"sm",onClick:()=>Te(e.id),disabled:xe[e.id],className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-xs",children:[xe[e.id]?c.jsx($,{className:"h-3 w-3 animate-spin"}):c.jsx(G,{className:"h-3 w-3"}),c.jsx("span",{className:"ml-1",children:"Approve"})]})})})]},e.id)})})]})})})}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(A,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Users Found"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"There are no users matching your criteria."}),c.jsxs(u,{onClick:()=>{he(""),pe("all")},className:"bg-gradient-to-r from-purple-500 to-violet-600 hover:from-purple-600 hover:to-violet-700",children:[c.jsx($,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})})]});case"courses":return c.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/50 shadow-depth-4 overflow-hidden",children:[c.jsx("div",{className:"px-6 py-5 border-b border-gray-200/50 dark:border-gray-700/50",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Course Management"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage all courses and content"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(u,{onClick:Me,variant:"outline",className:"flex items-center",children:[c.jsx($,{className:"h-4 w-4 mr-2"}),"Refresh"]}),c.jsxs(u,{className:"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700",children:[c.jsx(M,{className:"h-4 w-4 mr-2"}),"Create Course"]})]})]})}),c.jsx("div",{className:"p-6",children:Y?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx(x,{size:"lg"})}):l.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((e,s)=>c.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-sm rounded-2xl border border-white/20 dark:border-gray-700/50 p-6 hover:shadow-depth-4 transition-all duration-300 group hover:scale-105 card-3d",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:c.jsx(U,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm line-clamp-1",children:e.title}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.instructorName||"Unknown Instructor"})]})]}),c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(e.isPublished?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"),children:e.isPublished?"Published":"Draft"})]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:e.description||"No description available"}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[c.jsxs("span",{children:[e.studentsCount||0," students"]}),c.jsx("span",{children:je(e.createdAt)})]}),c.jsxs("div",{className:"mt-4 flex space-x-2",children:[c.jsxs(u,{size:"sm",variant:"outline",className:"flex-1",children:[c.jsx(F,{className:"h-3 w-3 mr-1"}),"View"]}),c.jsx(u,{size:"sm",variant:"outline",children:c.jsx(I,{className:"h-3 w-3"})})]})]},e.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(U,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Courses Found"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"There are no courses in the system yet."}),c.jsxs(u,{className:"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700",children:[c.jsx(M,{className:"h-4 w-4 mr-2"}),"Create Course"]})]})})]});case"sessions":return c.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/50 shadow-depth-4 overflow-hidden",children:[c.jsx("div",{className:"px-6 py-5 border-b border-gray-200/50 dark:border-gray-700/50",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Teaching Sessions"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage teaching sessions and recordings"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(u,{onClick:Me,variant:"outline",className:"flex items-center",children:[c.jsx($,{className:"h-4 w-4 mr-2"}),"Refresh"]}),c.jsxs(u,{onClick:()=>ye(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:[c.jsx(M,{className:"h-4 w-4 mr-2"}),"Schedule Session"]})]})]})}),c.jsx("div",{className:"p-6",children:Y?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx(x,{size:"lg"})}):Z.length>0?c.jsx("div",{className:"space-y-4",children:Z.map((e,s)=>{const a="live"===e.status,t="scheduled"===e.status,r="available"===e.recordingStatus,l=e.meetLink;return c.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-sm rounded-2xl border border-white/20 dark:border-gray-700/50 p-6 hover:shadow-depth-4 transition-all duration-300 group hover:scale-105 card-3d",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 rounded-xl "+(a?"bg-red-100 dark:bg-red-900/30":r?"bg-green-100 dark:bg-green-900/30":l?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-900/30"),children:l?c.jsx(z,{className:"h-5 w-5 "+(a?"text-red-600 dark:text-red-400":r?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400")}):c.jsx(D,{className:"h-5 w-5 "+(a?"text-red-600 dark:text-red-400":r?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400")})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:e.title||e.topic}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.description,e.instructorName&&` • ${e.instructorName}`]})]})]}),c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(a?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":t?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":r?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"),children:a?"Live Now":t?"Upcoming":r?"Recorded":"Completed"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(_,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e.scheduledTime?e.scheduledTime.toLocaleDateString():"No date"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(L,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e.scheduledTime?e.scheduledTime.toLocaleTimeString():"No time"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(E,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e.instructorName||"Unknown"})]})]}),e.meetLink&&c.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-sm",children:[c.jsx(O,{className:"h-4 w-4 text-blue-500"}),c.jsx("a",{href:e.meetLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline truncate",children:e.meetLink})]}),c.jsxs("div",{className:"mt-4 flex space-x-2",children:[a&&e.meetLink&&c.jsx("a",{href:e.meetLink,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:c.jsxs(u,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white w-full",children:[c.jsx(D,{className:"h-3 w-3 mr-1"}),"Join Live"]})}),!r&&!a&&!t&&e.meetLink&&c.jsxs(u,{size:"sm",onClick:()=>Re(e.id),disabled:xe[e.id],className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:[xe[e.id]?c.jsx($,{className:"h-3 w-3 animate-spin"}):c.jsx(B,{className:"h-3 w-3"}),c.jsx("span",{className:"ml-1",children:"Add Recording"})]}),r&&e.recordingUrl&&c.jsx("a",{href:e.recordingUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:c.jsxs(u,{size:"sm",variant:"outline",className:"w-full",children:[c.jsx(F,{className:"h-3 w-3 mr-1"}),"View Recording"]})}),c.jsx(u,{size:"sm",variant:"outline",children:c.jsx(I,{className:"h-3 w-3"})})]})]},e.id)})}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(z,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Sessions Found"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"There are no teaching sessions scheduled or live."}),c.jsxs(u,{onClick:()=>ye(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:[c.jsx(M,{className:"h-4 w-4 mr-2"}),"Schedule Session"]})]})})]});case"analytics":return c.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/50 shadow-depth-4 overflow-hidden",children:[c.jsx("div",{className:"px-6 py-5 border-b border-gray-200/50 dark:border-gray-700/50",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Platform Analytics"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Detailed insights and platform metrics"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(u,{onClick:Me,variant:"outline",className:"flex items-center",children:[c.jsx($,{className:"h-4 w-4 mr-2"}),"Refresh"]}),c.jsxs(u,{onClick:_e,className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700",children:[c.jsx(P,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})}),c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-sm rounded-2xl border border-white/20 dark:border-gray-700/50 p-6",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Platform Overview"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Storage Used"}),c.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:ve(1024*te.storageUsed*1024)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Users (Last 30 days)"}),c.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t.filter(e=>e.lastLogin&&new Date-new Date(e.lastLogin)<2592e6).length})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Recording Duration"}),c.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:fe(60*te.totalDuration)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Teaching Sessions"}),c.jsx("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:te.meetSessions})]})]})]}),c.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-sm rounded-2xl border border-white/20 dark:border-gray-700/50 p-6",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"User Distribution"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Students"}),c.jsx("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:t.filter(e=>"student"===e.role).length})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Teachers"}),c.jsx("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:t.filter(e=>"teacher"===e.role).length})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Admins"}),c.jsx("span",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:t.filter(e=>"admin"===e.role).length})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending Approval"}),c.jsx("span",{className:"text-sm font-semibold text-yellow-600 dark:text-yellow-400",children:t.filter(e=>!e.isActive&&"pending"===e.approvalStatus).length})]})]})]}),c.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-sm rounded-2xl border border-white/20 dark:border-gray-700/50 p-6",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Session Statistics"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Sessions"}),c.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:Z.length})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recorded Sessions"}),c.jsx("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:te.recordedSessions})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Upcoming Sessions"}),c.jsx("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:te.upcomingSessions})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Google Meet Integration"}),c.jsx("span",{className:"text-sm font-semibold text-purple-600 dark:text-purple-400",children:te.meetSessions>0?"Active":"Inactive"})]})]})]}),c.jsxs("div",{className:"lg:col-span-2 glass-light dark:glass-dark backdrop-blur-sm rounded-2xl border border-white/20 dark:border-gray-700/50 p-6",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Recordings"}),c.jsxs("div",{className:"space-y-3",children:[m.slice(0,5).map((e,s)=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-50/50 dark:bg-gray-700/50 hover:bg-gray-100/50 dark:hover:bg-gray-600/50 transition-colors duration-200",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(R,{className:"h-4 w-4 text-gray-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.title||"Untitled Recording"}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.instructorName||e.createdBy," • ",je(e.createdAt),e.meetLink&&" • Google Meet"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[c.jsxs("span",{children:[e.duration||0," min"]}),c.jsx("span",{children:ve(1024*(e.fileSize||0)*1024)})]})]},e.id)),0===m.length&&c.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No recordings available"})]})]})]})})]});default:return c.jsx("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-3xl border border-white/20 dark:border-gray-700/50 p-8 shadow-depth-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Coming Soon"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This section is under development."})]})})}})()}),be&&c.jsx(h.Suspense,{fallback:c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:c.jsx(x,{})}),children:c.jsx(Q,{onClose:()=>ye(!1),onSuccess:Ge})})]})});export{Z as default};
