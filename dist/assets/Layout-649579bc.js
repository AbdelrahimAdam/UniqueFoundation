import{u as e,j as r}from"./index-5767ddf8.js";import{r as s}from"./vendor-0a74ad82.js";import{c as a,B as t}from"./Button-3bd6c448.js";import{u as d}from"./useTranslation-aa9b7537.js";import{S as i}from"./search-574a4b7f.js";import{C as o}from"./chevron-down-d5b28354.js";import{U as l}from"./user-88eaccbf.js";import{S as n}from"./settings-aae38fd9.js";import{b as c,u as b}from"./router-80e9042b.js";import{U as g}from"./users-499efd4b.js";import{B as m}from"./book-open-cf5b879f.js";import{V as x}from"./video-9bd5ab91.js";import{B as h}from"./bar-chart-3-fea753ae.js";import{F as u}from"./file-text-55423f48.js";import{C as p}from"./calendar-db1a81dc.js";import{T as y}from"./trending-up-3b4b82f0.js";import{M as k}from"./message-circle-cc200bc1.js";import{X as f}from"./x-231358ce.js";import{C as v}from"./crown-d8e01332.js";import{G as w,U as j,S as N}from"./user-check-288d5dff.js";import"./firebase-383b8577.js";const M=a("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),C=a("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),z=a("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),_=a("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),S=a("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),$=a("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),L=a("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),E=a("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),U=({onMenuClick:a,isDarkMode:c,toggleDarkMode:b})=>{const{t:g,i18n:m}=d(),{user:x,logout:h,userRole:u}=e(),[p,y]=s.useState(!1),[k,f]=s.useState(!1),v=s.useRef(null),w=s.useRef(null);s.useEffect(()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&y(!1),w.current&&!w.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const j=e=>{switch(e){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"teacher":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"student":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return r.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border-b border-white/20 dark:border-gray-700/50 sticky top-0 z-40 transition-all duration-300",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("button",{onClick:a,className:"lg:hidden p-2 rounded-lg bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg",children:r.jsx(S,{size:20})}),r.jsxs("div",{className:"hidden md:block relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(i,{size:18,className:"text-gray-400"})}),r.jsx("input",{type:"text",placeholder:g("common.search"),className:"pl-10 pr-4 py-2 w-64 bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(t,{variant:"ghost",size:"sm",onClick:()=>{const e="en"===m.language?"ar":"en";m.changeLanguage(e),document.documentElement.dir="ar"===e?"rtl":"ltr"},className:"hidden sm:flex items-center space-x-2 rtl:space-x-reverse px-3 py-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105",children:r.jsx("span",{className:"text-sm font-medium",children:"en"===m.language?"العربية":"English"})}),r.jsx("button",{onClick:b,className:"p-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg",children:c?r.jsx(E,{size:18}):r.jsx(L,{size:18})}),r.jsxs("div",{className:"relative",ref:w,children:[r.jsxs("button",{onClick:()=>f(!k),className:"p-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg relative",children:[r.jsx(M,{size:18}),r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"})]}),k&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 dark:border-gray-700/50 py-2 z-50 transform origin-top-right transition-all duration-200 scale-95 hover:scale-100",children:[r.jsx("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:g("notifications.title")})}),r.jsx("div",{className:"max-h-64 overflow-y-auto",children:r.jsx("div",{className:"px-4 py-3 text-center text-gray-500 dark:text-gray-400",children:g("notifications.noNotifications")})})]})]}),r.jsxs("div",{className:"relative",ref:v,children:[r.jsxs("button",{onClick:()=>y(!p),className:"flex items-center space-x-3 rtl:space-x-reverse p-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg group",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold",children:x?.displayName?.charAt(0)||x?.email?.charAt(0)||"U"}),r.jsxs("div",{className:"hidden sm:block text-left rtl:text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate max-w-32",children:x?.displayName||x?.email}),r.jsx("p",{className:`text-xs px-2 py-0.5 rounded-full ${j(u)}`,children:u})]})]}),r.jsx(o,{size:16,className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-transform duration-200"})]}),p&&r.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 dark:border-gray-700/50 py-2 z-50 transform origin-top-right transition-all duration-200 scale-95 hover:scale-100",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:x?.displayName||"User"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:x?.email}),r.jsx("p",{className:`text-xs px-2 py-1 rounded-full inline-block mt-1 ${j(u)}`,children:u})]}),r.jsxs("button",{onClick:()=>window.location.href="/profile",className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150",children:[r.jsx(l,{size:16,className:"mr-3 rtl:mr-0 rtl:ml-3"}),g("user.profile")]}),r.jsxs("button",{onClick:()=>window.location.href="/profile?tab=settings",className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150",children:[r.jsx(n,{size:16,className:"mr-3 rtl:mr-0 rtl:ml-3"}),g("user.settings")]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),r.jsxs("button",{onClick:async()=>{try{await h()}catch(e){}},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-150",children:[r.jsx(_,{size:16,className:"mr-3 rtl:mr-0 rtl:ml-3"}),g("auth.logout")]})]})]})]})]})})})},R=({isOpen:a,onClose:t,userRole:i="student"})=>{const{t:o,i18n:n}=d(),{user:S,logout:U,userProfile:R}=e(),D=c(),G=b(),A="ar"===n.language,[B,H]=s.useState(!1);s.useEffect(()=>{const e="dark"===localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches;H(e)},[]);const T={admin:[{id:"dashboard",label:o("sidebar.dashboard","Dashboard"),icon:z,path:"/admin/dashboard",description:o("sidebar.dashboard_desc","Overview and statistics")},{id:"users",label:o("sidebar.users","User Management"),icon:g,path:"/admin/users",description:o("sidebar.users_desc","Manage all users and permissions")},{id:"courses",label:o("sidebar.courses","Course Management"),icon:m,path:"/admin/courses",description:o("sidebar.courses_desc","Manage courses and content")},{id:"sessions",label:o("sidebar.sessions","Session Management"),icon:x,path:"/admin/sessions",description:o("sidebar.sessions_desc","Google Meet sessions monitoring")},{id:"analytics",label:o("sidebar.analytics","Analytics"),icon:h,path:"/admin/analytics",description:o("sidebar.analytics_desc","Platform insights and metrics")},{id:"reports",label:o("sidebar.reports","Reports"),icon:u,path:"/admin/reports",description:o("sidebar.reports_desc","System reports and exports")}],teacher:[{id:"dashboard",label:o("sidebar.dashboard","Dashboard"),icon:z,path:"/teacher/dashboard",description:o("sidebar.dashboard_desc","Teaching overview and insights")},{id:"recordings",label:o("sidebar.recordings","My Recordings"),icon:x,path:"/teacher/recordings",description:o("sidebar.recordings_desc","Manage your class recordings")},{id:"sessions",label:o("sidebar.sessions","My Sessions"),icon:p,path:"/teacher/sessions",description:o("sidebar.sessions_desc","Schedule and manage sessions")},{id:"students",label:o("sidebar.students","Students"),icon:g,path:"/teacher/students",description:o("sidebar.students_desc","Manage your students")},{id:"my-courses",label:o("sidebar.my_courses","My Courses"),icon:m,path:"/teacher/my-courses",description:o("sidebar.my_courses_desc","Your teaching courses")},{id:"analytics",label:o("sidebar.analytics","Analytics"),icon:h,path:"/teacher/analytics",description:o("sidebar.analytics_desc","Teaching performance insights")},{id:"messages",label:o("sidebar.messages","Messages"),icon:$,path:"/teacher/messages",description:o("sidebar.messages_desc","Communicate with students")}],student:[{id:"dashboard",label:o("sidebar.dashboard","Dashboard"),icon:z,path:"/student/dashboard",description:o("sidebar.dashboard_desc","Learning overview and progress")},{id:"sessions",label:o("sidebar.sessions","Learning Sessions"),icon:p,path:"/student/sessions",description:o("sidebar.sessions_desc","Join live sessions and classes")},{id:"recordings",label:o("sidebar.recordings","Recordings"),icon:x,path:"/student/recordings",description:o("sidebar.recordings_desc","Watch recorded sessions")},{id:"courses",label:o("sidebar.courses","Browse Courses"),icon:m,path:"/student/courses",description:o("sidebar.courses_desc","Discover and enroll in courses")},{id:"my-courses",label:o("sidebar.my_courses","My Courses"),icon:m,path:"/student/my-courses",description:o("sidebar.my_courses_desc","Your enrolled courses")},{id:"progress",label:o("sidebar.progress","Progress"),icon:y,path:"/student/progress",description:o("sidebar.progress_desc","Track your learning progress")},{id:"teachers",label:o("sidebar.teachers","Teachers"),icon:g,path:"/student/teachers",description:o("sidebar.teachers_desc","View available teachers")}]},q=[{id:"notifications",label:o("sidebar.notifications","Notifications"),icon:M,path:"/notifications",description:o("sidebar.notifications_desc","View your notifications")},{id:"messages",label:o("sidebar.messages","Messages"),icon:k,path:"/messages",description:o("sidebar.messages_desc","Check your messages")},{id:"profile",label:o("sidebar.profile","Profile"),icon:l,path:"/profile",description:o("sidebar.profile_desc","Manage your profile settings")},{id:"help",label:o("sidebar.help","Help & Support"),icon:C,path:"/help",description:o("sidebar.help_desc","Get help and support")}],P=T[i]||[],O=e=>{G(e),t?.()},V=e=>D.pathname===e||D.pathname.startsWith(e+"/"),I=(()=>{switch(i){case"admin":return N;case"teacher":return j;case"student":return w;default:return l}})(),F=(()=>{switch(i){case"admin":return{gradient:"from-purple-500 to-violet-600",bgGradient:"from-purple-500/15 to-violet-600/15",text:"text-purple-700 dark:text-purple-300",bg:"bg-purple-100/80 dark:bg-purple-900/40",border:"border-purple-200/50 dark:border-purple-700/50"};case"teacher":return{gradient:"from-blue-500 to-cyan-600",bgGradient:"from-blue-500/15 to-cyan-600/15",text:"text-blue-700 dark:text-blue-300",bg:"bg-blue-100/80 dark:bg-blue-900/40",border:"border-blue-200/50 dark:border-blue-700/50"};case"student":return{gradient:"from-green-500 to-emerald-600",bgGradient:"from-green-500/15 to-emerald-600/15",text:"text-green-700 dark:text-green-300",bg:"bg-green-100/80 dark:bg-green-900/40",border:"border-green-200/50 dark:border-green-700/50"};default:return{gradient:"from-gray-500 to-gray-600",bgGradient:"from-gray-500/15 to-gray-600/15",text:"text-gray-700 dark:text-gray-300",bg:"bg-gray-100/80 dark:bg-gray-900/40",border:"border-gray-200/50 dark:border-gray-700/50"}}})();return r.jsxs("div",{className:`\n      fixed inset-y-0 left-0 z-50 w-80 \n      bg-white/85 dark:bg-gray-900/85 backdrop-blur-2xl\n      border-r border-white/40 dark:border-gray-700/40\n      shadow-2xl shadow-black/10 dark:shadow-black/30\n      transform transition-transform duration-300 ease-in-out\n      lg:translate-x-0 lg:static lg:inset-0\n      ${A?"right-0 left-auto":""}\n      ${a?"translate-x-0":"-translate-x-full"}\n      flex flex-col h-screen\n    `,children:[r.jsxs("div",{className:"flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center justify-between h-20 px-6 border-b border-white/30 dark:border-gray-700/30",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg backdrop-blur-sm overflow-hidden",children:r.jsx("img",{src:"/logo.png",alt:"Unique Foundation Logo",className:"w-full h-full rounded-full object-cover"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-400 border-2 border-white dark:border-gray-900 rounded-full shadow-sm"})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Unique Foundation"}),r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:[i," Portal"]})]})]}),r.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-xl bg-white/50 dark:bg-gray-800/50 hover:bg-white/70 dark:hover:bg-gray-700/70 transition-colors duration-200 backdrop-blur-sm","aria-label":"Close sidebar",children:r.jsx(f,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),r.jsx("div",{className:"p-6 border-b border-white/30 dark:border-gray-700/30",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${F.gradient} rounded-2xl flex items-center justify-center text-white font-bold text-lg shadow-xl backdrop-blur-sm`,children:S?.displayName?S.displayName.charAt(0).toUpperCase():S?.email?S.email.charAt(0).toUpperCase():"U"}),r.jsx("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 bg-gradient-to-br ${F.gradient} rounded-full flex items-center justify-center border-2 border-white dark:border-gray-900 shadow-sm backdrop-blur-sm`,children:r.jsx(I,{size:12,className:"text-white"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate text-base",children:S?.displayName||S?.email||"User"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:S?.email||"user@example.com"}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium capitalize backdrop-blur-sm ${F.bg} ${F.text} border ${F.border}`,children:i}),"premium"===R?.subscription?.plan&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-sm backdrop-blur-sm",children:[r.jsx(v,{className:"h-3 w-3 mr-1"}),"Premium"]})]})]})]})})]}),r.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r.jsxs("nav",{className:"px-4 py-6 space-y-2",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider mb-2 backdrop-blur-sm",children:"Main Menu"}),P.map(e=>{const s=e.icon,a=V(e.path);return r.jsxs("button",{onClick:()=>O(e.path),className:"group relative flex items-center w-full px-4 py-4 text-left rtl:text-right rounded-2xl transition-all duration-300 backdrop-blur-sm "+(a?`${F.bg} ${F.text} border ${F.border} shadow-lg`:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-800/50 hover:shadow-md border border-transparent"),children:[a&&r.jsx("div",{className:`absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-gradient-to-b ${F.gradient} rounded-r-full shadow-sm`}),r.jsx("div",{className:"p-2 rounded-xl transition-all duration-300 backdrop-blur-sm "+(a?`bg-gradient-to-br ${F.gradient} shadow-lg`:"bg-white/50 dark:bg-gray-800/50 group-hover:bg-white/70 dark:group-hover:bg-gray-700/50"),children:r.jsx(s,{size:20,className:a?"text-white":"text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-200"})}),r.jsxs("div",{className:(A?"mr-3":"ml-3")+" flex-1 min-w-0",children:[r.jsx("span",{className:"font-medium block text-sm truncate",children:e.label}),r.jsx("span",{className:"text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-gray-600 dark:text-gray-400 truncate",children:e.description})]})]},e.id)})]}),r.jsxs("div",{className:"px-4 py-6 border-t border-white/30 dark:border-gray-700/30",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider mb-2 backdrop-blur-sm",children:"General"}),r.jsx("div",{className:"space-y-2",children:q.map(e=>{const s=e.icon,a=V(e.path);return r.jsxs("button",{onClick:()=>O(e.path),className:"group relative flex items-center w-full px-4 py-3 text-left rtl:text-right rounded-xl transition-all duration-300 backdrop-blur-sm "+(a?`${F.bg} ${F.text} border ${F.border} shadow-md`:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-800/50 border border-transparent"),children:[r.jsx(s,{size:18,className:a?F.text:"text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-200"}),r.jsx("span",{className:(A?"mr-3":"ml-3")+" font-medium text-sm flex-1 text-left",children:e.label}),("notifications"===e.id||"messages"===e.id)&&r.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-red-500 text-white rounded-full min-w-[20px] text-center backdrop-blur-sm shadow-sm",children:"3"})]},e.id)})})]})]})}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("div",{className:"p-4 space-y-2 border-t border-white/30 dark:border-gray-700/30 bg-white/40 dark:bg-gray-800/40 backdrop-blur-sm",children:[r.jsxs("button",{onClick:()=>{const e=!B;H(e),localStorage.setItem("theme",e?"dark":"light"),document.documentElement.classList.toggle("dark",e)},className:"flex items-center w-full px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded-xl transition-all duration-300 hover:bg-white/50 dark:hover:bg-gray-700/50 group backdrop-blur-sm",children:[B?r.jsx(E,{size:18,className:(A?"ml-3":"mr-3")+" group-hover:text-yellow-500 transition-colors"}):r.jsx(L,{size:18,className:(A?"ml-3":"mr-3")+" group-hover:text-blue-500 transition-colors"}),r.jsx("span",{className:"font-medium text-sm flex-1 text-left",children:B?o("sidebar.lightMode","Light Mode"):o("sidebar.darkMode","Dark Mode")})]}),r.jsxs("button",{onClick:async()=>{try{await U(),G("/login")}catch(e){}},className:"flex items-center w-full px-4 py-3 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 rounded-xl transition-all duration-300 hover:bg-red-50/50 dark:hover:bg-red-900/20 group backdrop-blur-sm",children:[r.jsx(_,{size:18,className:(A?"ml-3":"mr-3")+" group-hover:scale-105 transition-transform"}),r.jsx("span",{className:"font-medium text-sm flex-1 text-left",children:o("sidebar.logout","Logout")})]}),r.jsx("div",{className:"pt-2 border-t border-white/30 dark:border-gray-700/30",children:r.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[r.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"v2.0.0"}),r.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600 dark:text-green-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Online"})]})]})})]})})]})},D=({children:e,role:a="student"})=>{const[t,d]=s.useState(!1),[i,o]=s.useState(!1);s.useEffect(()=>{(()=>{const e=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches,s="dark"===e||!e&&r;d(s),document.documentElement.classList.toggle("dark",s)})()},[]);const l=s.useCallback(()=>{const e=!t;d(e),document.documentElement.classList.toggle("dark",e),localStorage.setItem("theme",e?"dark":"light")},[t]),n=s.useCallback(()=>{o(!1)},[]),c=s.useCallback(()=>{o(e=>!e)},[]);s.useEffect(()=>{const e=e=>{"Escape"===e.key&&i&&n()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i,n]);const b=s.useCallback(e=>{e.target===e.currentTarget&&n()},[n]);return r.jsxs("div",{className:`min-h-screen ${(()=>{switch(a){case"admin":return"bg-gradient-to-br from-purple-50 to-indigo-100 dark:from-gray-900 dark:to-purple-900";case"teacher":return"bg-gradient-to-br from-blue-50 to-cyan-100 dark:from-gray-900 dark:to-blue-900";case"student":return"bg-gradient-to-br from-green-50 to-emerald-100 dark:from-gray-900 dark:to-green-900";default:return"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800"}})()} transition-colors duration-300`,children:[r.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-200 dark:bg-blue-900 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-20 animate-pulse"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-200 dark:bg-purple-900 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-20 animate-pulse delay-1000"}),r.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-pink-200 dark:bg-pink-900 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-20 animate-pulse delay-500"})]}),r.jsxs("div",{className:"relative z-10 flex h-screen overflow-hidden",children:[i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden transition-opacity duration-300",onClick:b,"aria-hidden":"true"}),r.jsx("aside",{className:`\n            fixed inset-y-0 left-0 z-50 w-80 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl\n            border-r border-white/20 dark:border-gray-700/50 shadow-2xl\n            transform transition-transform duration-300 ease-in-out\n            lg:translate-x-0 lg:static lg:inset-auto\n            ${i?"translate-x-0":"-translate-x-full"}\n          `,"aria-label":"Sidebar navigation",children:r.jsx(R,{isOpen:i,onClose:n,userRole:a})}),r.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-0 overflow-hidden",children:[r.jsx(U,{onMenuClick:c,isDarkMode:t,toggleDarkMode:l,userRole:a}),r.jsx("main",{className:"flex-1 overflow-auto p-4 lg:p-6 transition-all duration-300",children:r.jsx("div",{className:"max-w-7xl mx-auto w-full",children:e})})]})]})]})};export{D as default};
