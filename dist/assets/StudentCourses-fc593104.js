import{u as e,j as s,L as r}from"./index-ce15b861.js";import{r as t}from"./vendor-0a74ad82.js";import"./firebase-383b8577.js";import{c as a}from"./courseService-d53954a4.js";import{B as l}from"./Button-fb358952.js";import{u as i}from"./useTranslation-9d3f62b5.js";import{T as d}from"./trending-up-4b199bbc.js";import{B as n}from"./book-open-4dbb8b42.js";import{C as o}from"./clock-5d166213.js";import{A as c}from"./award-fb2edfcc.js";import{S as x}from"./search-e15913c7.js";import{F as m}from"./filter-0e023312.js";import{S as g}from"./star-582203e3.js";import{U as h}from"./users-1bfd9ab7.js";import{P as u}from"./play-circle-8e2c3fb1.js";import{B as j}from"./bookmark-dc436696.js";import"./router-80e9042b.js";const b=()=>{i();const{user:b}=e(),[p,f]=t.useState([]),[y,N]=t.useState([]),[w,v]=t.useState(!0),[k,C]=t.useState(""),[S,L]=t.useState("all"),B=b?.uid;t.useEffect(()=>{B&&P()},[B]);const P=async()=>{try{v(!0);const[e,s]=await Promise.all([a.getPublishedCourses(),a.getEnrolledCourses(B)]);f(e),N(s)}catch(e){}finally{v(!1)}},z=p.filter(e=>{const s=e.title?.toLowerCase().includes(k.toLowerCase())||e.description?.toLowerCase().includes(k.toLowerCase())||e.instructorName?.toLowerCase().includes(k.toLowerCase()),r="all"===S||e.category===S;return s&&r}),E={enrolled:y.length,completed:y.filter(e=>100===e.progress).length,inProgress:y.filter(e=>e.progress>0&&e.progress<100).length},A=e=>{if(!e)return"0h 0m";return`${Math.floor(e/60)}h ${e%60}m`};return w?s.jsx("div",{className:"flex items-center justify-center min-h-96",children:s.jsx(r,{size:"lg"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Browse Courses"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Discover and enroll in new learning opportunities"})]}),s.jsxs(l,{onClick:P,variant:"outline",children:[s.jsx(d,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Enrolled"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:E.enrolled})]}),s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(n,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:E.inProgress})]}),s.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:s.jsx(o,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:E.completed})]}),s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx(c,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search courses...",value:k,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("select",{value:S,onChange:e=>L(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Categories"}),s.jsx("option",{value:"programming",children:"Programming"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"business",children:"Business"}),s.jsx("option",{value:"marketing",children:"Marketing"}),s.jsx("option",{value:"language",children:"Language"})]}),s.jsxs(l,{variant:"outline",children:[s.jsx(m,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:z.map(e=>{const r=(t=e.id,y.some(e=>e.id===t));var t;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-all duration-300",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-purple-500 to-pink-500 relative",children:[e.thumbnailUrl?s.jsx("img",{src:e.thumbnailUrl,alt:e.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(n,{className:"h-12 w-12 text-white opacity-80"})}),s.jsx("div",{className:"absolute top-4 right-4",children:r?s.jsx("span",{className:"px-3 py-1 bg-green-500 text-white rounded-full text-xs font-medium",children:"Enrolled"}):s.jsx("span",{className:"px-3 py-1 bg-blue-500 text-white rounded-full text-xs font-medium",children:"Available"})}),s.jsx("div",{className:"absolute bottom-4 left-4",children:s.jsx("span",{className:"px-3 py-1 bg-black bg-opacity-50 text-white rounded-full text-sm",children:A(e.duration)})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg line-clamp-2 flex-1",children:e.title}),e.isFeatured&&s.jsx(g,{className:"h-5 w-5 text-yellow-500 fill-current ml-2"})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:e.description||"No description provided"}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(h,{className:"h-4 w-4 mr-1"}),e.studentsCount||0," students"]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(o,{className:"h-4 w-4 mr-1"}),e.lessonsCount||0," lessons"]})]}),e.level&&s.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("beginner"===e.level?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"intermediate"===e.level?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:e.level})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.instructorName?.charAt(0)||"I"}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.instructorName})]}),s.jsxs("div",{className:"flex space-x-2",children:[r?s.jsxs(l,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(u,{className:"h-4 w-4 mr-1"}),"Continue"]}):s.jsx(l,{size:"sm",onClick:()=>(async e=>{try{await a.enrollStudent(e,B),await P()}catch(s){alert("Failed to enroll in course")}})(e.id),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600",children:"Enroll Now"}),s.jsx(l,{variant:"outline",size:"sm",children:s.jsx(j,{className:"h-4 w-4"})})]})]})]})]},e.id)})}),0===z.length&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(n,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No courses found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:k||"all"!==S?"Try adjusting your search or filters":"No courses are currently available"})]})]})};export{b as default};
