var e=Object.defineProperty,s=Object.defineProperties,r=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(s,r,t)=>r in s?e(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t,d=(e,s)=>{for(var r in s||(s={}))a.call(s,r)&&i(e,r,s[r]);if(t)for(var r of t(s))l.call(s,r)&&i(e,r,s[r]);return e},n=(e,t)=>s(e,r(t));import{e as c,r as o,j as x,P as m,m as h,x as g,C as u,l as b,K as j,O as p,p as y,g as f,Y as w,W as N}from"./vendor-react-b59152ff.js";import"./firebase-a4f86f3d.js";import{L as v}from"./index-cde8ec3e.js";import{c as k}from"./courseService-97d71fc9.js";import{B as C}from"./Button-d86c7bdc.js";import"./vendor-c2e5c299.js";import"./i18n-417c627b.js";const P=()=>{c();const[e,s]=o.useState([]),[r,t]=o.useState(!0),[a,l]=o.useState(""),[i,P]=o.useState("all"),[S,O]=o.useState({});o.useEffect(()=>{L()},[]);const L=async()=>{try{t(!0);const e=await k.getAllCourses();s(e)}catch(e){}finally{t(!1)}},D=e.filter(e=>{var s,r,t;const l=(null==(s=e.title)?void 0:s.toLowerCase().includes(a.toLowerCase()))||(null==(r=e.description)?void 0:r.toLowerCase().includes(a.toLowerCase()))||(null==(t=e.instructorName)?void 0:t.toLowerCase().includes(a.toLowerCase())),d="all"===i||"published"===i&&e.isPublished||"draft"===i&&!e.isPublished;return l&&d}),z={total:e.length,published:e.filter(e=>e.isPublished).length,draft:e.filter(e=>!e.isPublished).length,totalStudents:e.reduce((e,s)=>e+(s.studentsCount||0),0)};return r?x.jsx("div",{className:"flex items-center justify-center min-h-96",children:x.jsx(v,{size:"lg"})}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Course Management"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all courses and learning content"})]}),x.jsxs(C,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[x.jsx(m,{className:"h-4 w-4 mr-2"}),"Create Course"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Courses"}),x.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:z.total})]}),x.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:x.jsx(h,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Published"}),x.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:z.published})]}),x.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:x.jsx(g,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Draft"}),x.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:z.draft})]}),x.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:x.jsx(u,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Students"}),x.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:z.totalStudents})]}),x.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:x.jsx(b,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})]}),x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:x.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[x.jsx("div",{className:"flex-1",children:x.jsxs("div",{className:"relative",children:[x.jsx(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),x.jsx("input",{type:"text",placeholder:"Search courses...",value:a,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsxs("select",{value:i,onChange:e=>P(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[x.jsx("option",{value:"all",children:"All Status"}),x.jsx("option",{value:"published",children:"Published"}),x.jsx("option",{value:"draft",children:"Draft"})]}),x.jsxs(C,{variant:"outline",children:[x.jsx(p,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]})}),x.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:D.map(e=>{var s;return x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-all duration-300",children:[x.jsxs("div",{className:"h-48 bg-gradient-to-br from-purple-500 to-pink-500 relative",children:[e.thumbnailUrl?x.jsx("img",{src:e.thumbnailUrl,alt:e.title,className:"w-full h-full object-cover"}):x.jsx("div",{className:"w-full h-full flex items-center justify-center",children:x.jsx(h,{className:"h-12 w-12 text-white opacity-80"})}),x.jsx("div",{className:"absolute top-4 right-4",children:x.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+(e.isPublished?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"),children:e.isPublished?"Published":"Draft"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("div",{className:"flex items-start justify-between mb-3",children:x.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg line-clamp-2",children:e.title})}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:e.description||"No description provided"}),x.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs("span",{className:"flex items-center",children:[x.jsx(b,{className:"h-4 w-4 mr-1"}),e.studentsCount||0," students"]}),x.jsxs("span",{className:"flex items-center",children:[x.jsx(y,{className:"h-4 w-4 mr-1"}),new Date(e.createdAt).toLocaleDateString()]})]})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:(null==(s=e.instructorName)?void 0:s.charAt(0))||"I"}),x.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.instructorName})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(C,{size:"sm",variant:"outline",children:x.jsx(f,{className:"h-4 w-4"})}),x.jsx(C,{size:"sm",variant:"outline",children:x.jsx(w,{className:"h-4 w-4"})}),e.isPublished?x.jsx(C,{size:"sm",variant:"outline",onClick:()=>(async e=>{try{O(s=>n(d({},s),{[e]:!0})),await k.unpublishCourse(e),await L()}catch(s){}finally{O(s=>n(d({},s),{[e]:!1}))}})(e.id),disabled:S[e.id],children:x.jsx(N,{className:"h-4 w-4"})}):x.jsx(C,{size:"sm",onClick:()=>(async e=>{try{O(s=>n(d({},s),{[e]:!0})),await k.publishCourse(e),await L()}catch(s){}finally{O(s=>n(d({},s),{[e]:!1}))}})(e.id),disabled:S[e.id],children:x.jsx(g,{className:"h-4 w-4"})})]})]})]})]},e.id)})}),0===D.length&&x.jsxs("div",{className:"text-center py-12",children:[x.jsx(h,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No courses found"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:a||"all"!==i?"Try adjusting your search or filters":"Get started by creating your first course"}),x.jsxs(C,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[x.jsx(m,{className:"h-4 w-4 mr-2"}),"Create Course"]})]})]})};export{P as default};
