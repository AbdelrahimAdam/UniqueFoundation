import{u as e,j as s,L as t}from"./index-ce15b861.js";import{r as a}from"./vendor-0a74ad82.js";import{u as r}from"./userService-00d5d7fe.js";import"./firebase-383b8577.js";import{c as l,B as i}from"./Button-fb358952.js";import{u as d}from"./useTranslation-9d3f62b5.js";import{M as n}from"./mail-49d1c0aa.js";import{U as c}from"./users-1bfd9ab7.js";import{T as x}from"./trending-up-4b199bbc.js";import{A as o}from"./award-fb2edfcc.js";import{S as m}from"./search-e15913c7.js";import{F as g}from"./filter-0e023312.js";import{E as h}from"./eye-ccc819fa.js";import{M as j}from"./more-vertical-3852c03d.js";import"./router-80e9042b.js";const u=l("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),y=()=>{d();const{user:l}=e(),[y,p]=a.useState([]),[f,N]=a.useState(!0),[b,w]=a.useState(""),v=l?.uid;a.useEffect(()=>{v&&k()},[v]);const k=async()=>{try{N(!0);const e=(await r.getAllUsers()).filter(e=>"student"===e.role&&e.isActive);p(e)}catch(e){}finally{N(!1)}},A=y.filter(e=>e.displayName?.toLowerCase().includes(b.toLowerCase())||e.email?.toLowerCase().includes(b.toLowerCase())),L={total:y.length,active:y.filter(e=>e.lastLogin&&Date.now()-new Date(e.lastLogin).getTime()<6048e5).length,newThisWeek:y.filter(e=>e.createdAt&&Date.now()-new Date(e.createdAt).getTime()<6048e5).length};return f?s.jsx("div",{className:"flex items-center justify-center min-h-96",children:s.jsx(t,{size:"lg"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Students"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage and communicate with your students"})]}),s.jsxs(i,{variant:"outline",children:[s.jsx(n,{className:"h-4 w-4 mr-2"}),"Message All"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L.total})]}),s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(c,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active This Week"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L.active})]}),s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx(x,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"New This Week"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L.newThisWeek})]}),s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(o,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search students by name or email...",value:b,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs(i,{variant:"outline",children:[s.jsx(g,{className:"h-4 w-4 mr-2"}),"Filters"]})]})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:A.map(e=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-xl transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center text-white text-xl font-bold",children:e.displayName?.charAt(0)||e.email?.charAt(0)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:e.displayName||"No Name"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:e.email}),s.jsx("p",{className:"text-green-600 dark:text-green-400 text-xs font-medium mt-1",children:"Active Student"})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Active"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.lastLogin?new Date(e.lastLogin).toLocaleDateString():"Never"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Joined"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"Unknown"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Courses"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.enrolledCourses||0})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(i,{variant:"outline",className:"flex-1",children:[s.jsx(u,{className:"h-4 w-4 mr-2"}),"Message"]}),s.jsx(i,{variant:"outline",size:"sm",children:s.jsx(h,{className:"h-4 w-4"})}),s.jsx(i,{variant:"outline",size:"sm",children:s.jsx(j,{className:"h-4 w-4"})})]})]},e.id))}),0===A.length&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(c,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No students found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:b?"Try adjusting your search terms":"You currently have no students assigned"})]})]})};export{y as default};
