import{j as e,u as s,o as a}from"./index-fde0d62d.js";import{c as t,r as i}from"./vendor-0a74ad82.js";import{u as r}from"./index.esm-e04fd8e7.js";import{u as l,S as n}from"./Select-f5fa357c.js";import{B as o}from"./Button-e4864804.js";import{s as c}from"./sessionService-e4efedfb.js";import{u as d}from"./useTranslation-b39a34c2.js";import{C as m}from"./camera-0bfc243e.js";import{V as u}from"./video-0db73cd2.js";import{X as g}from"./x-c1108be6.js";import{A as x}from"./alert-circle-e10dc133.js";import{C as h}from"./check-circle-bee84931.js";import{F as b}from"./file-text-6c907fbf.js";import{L as p,G as y}from"./link-601684f1.js";import{B as f}from"./book-open-f786a2db.js";import{C as j}from"./calendar-7494118b.js";import{U as v}from"./user-4c280f79.js";import{C as N}from"./clock-ef5a2b60.js";import{U as k}from"./users-dacba3b8.js";import{P as w}from"./plus-bf6b85bd.js";import"./router-80e9042b.js";import"./firebase-383b8577.js";import"./utils-db1934d6.js";import"./chevron-down-573d0298.js";import"./search-6717dbe2.js";import"./check-9b2fada3.js";const S=t.forwardRef(({label:s,type:a="text",placeholder:t,error:i,disabled:r,icon:l,required:n,inputMode:o,...c},d)=>e.jsxs("div",{className:"space-y-2",children:[s&&e.jsxs("label",{className:"block text-sm font-medium "+(i?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:[s,n&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[l&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(l,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:a,inputMode:o,className:`w-full px-4 py-3 border rounded-2xl bg-white/50 dark:bg-gray-700/50 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 transition-all ${i?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"} ${r?"opacity-50 cursor-not-allowed":""} ${l?"pl-10":""}`,placeholder:t,disabled:r,ref:d,...c})]}),i&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:i})]})),C=t.forwardRef(({label:s,placeholder:a,error:t,disabled:i,rows:r=3,required:l,...n},o)=>e.jsxs("div",{className:"space-y-2",children:[s&&e.jsxs("label",{className:"block text-sm font-medium "+(t?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:[s,l&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("textarea",{rows:r,className:`w-full px-4 py-3 border rounded-2xl bg-white/50 dark:bg-gray-700/50 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 transition-all resize-none ${t?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"} ${i?"opacity-50 cursor-not-allowed":""}`,placeholder:a,disabled:i,ref:o,...n}),t&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:t})]})),T=t.memo(({onClose:t,onSuccess:T,session:D=null})=>{const{t:M}=d(),{user:E}=s(),G=a(),[_,L]=i.useState(!1),[P,R]=i.useState(""),[I,$]=i.useState(""),[q,z]=i.useState([]),F=Boolean(D),V=i.useCallback(e=>{if(!e)return"";let s=e.trim();if(s=s.replace(/\s+/g,""),s.startsWith("https://")||(s.startsWith("meet.google.com/")?s="https://"+s:s.startsWith("http://meet.google.com/")?s=s.replace("http://","https://"):s.startsWith("meet.google.com")?s="https://"+s:s.match(/^[a-z]{3}-[a-z]{4}-[a-z]{3}$/)&&(s=`https://meet.google.com/${s}`)),s=s.toLowerCase(),!s.includes("meet.google.com")){const e=s.match(/([a-z]{3}-[a-z]{4}-[a-z]{3})/);e&&(s=`https://meet.google.com/${e[1]}`)}return s},[]),{register:A,handleSubmit:U,formState:{errors:B,isDirty:H,isValid:O},watch:W,setValue:Y,reset:J}=r({mode:"onChange",defaultValues:{title:D?.title||D?.topic||"",description:D?.description||"",meetLink:D?.meetLink||"",scheduledTime:D?.scheduledTime?new Date(D.scheduledTime).toISOString().slice(0,16):"",duration:D?.duration||60,category:D?.category||"lecture",visibility:D?.visibility||"private",maxParticipants:D?.maxParticipants||50,courseId:D?.courseId||"general",enableRecording:D?.enableRecording??!0}}),Q=W(),K=i.useCallback(e=>{if(!e)return M("validation.required",{field:"Scheduled time"});const s=new Date(e),a=new Date;if(isNaN(s.getTime()))return M("validation.invalidDate","Invalid date");if(s<=a)return M("validation.futureDate","Must be in the future");const t=new Date;return t.setFullYear(a.getFullYear()+1),!(s>t)||M("validation.tooFarFuture","Max 1 year ahead")},[M]),X=i.useCallback(e=>{Y("duration",Number(e),{shouldValidate:!0})},[Y]),Z=i.useCallback(e=>{Y("courseId",e,{shouldValidate:!0})},[Y]),ee=i.useCallback(e=>{Y("category",e,{shouldValidate:!0})},[Y]),se=i.useCallback(e=>{Y("maxParticipants",e,{shouldValidate:!0})},[Y]),ae=i.useCallback(e=>{Y("visibility",e,{shouldValidate:!0})},[Y]),te=i.useCallback(e=>{Y("enableRecording",e.target.checked,{shouldValidate:!0})},[Y]),ie=i.useCallback(()=>{const e=new Date;return e.setMinutes(e.getMinutes()+30),e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,16)},[]);i.useEffect(()=>{(async()=>{try{z([{id:"general",name:"General Session",category:"general"},{id:"english",name:"English",category:"general"},{id:"english_literature",name:"English Literature",category:"general"},{id:"english_language",name:"English Language",category:"general"},{id:"communications",name:"Communications",category:"general"},{id:"mathematics",name:"Mathematics",category:"math"},{id:"algebra",name:"Algebra",category:"math"},{id:"geometry",name:"Geometry",category:"math"},{id:"calculus",name:"Calculus",category:"math"},{id:"statistics",name:"Statistics",category:"math"},{id:"trigonometry",name:"Trigonometry",category:"math"},{id:"discrete_math",name:"Discrete Mathematics",category:"math"},{id:"physics",name:"Physics",category:"science"},{id:"chemistry",name:"Chemistry",category:"science"},{id:"biology",name:"Biology",category:"science"},{id:"environmental_science",name:"Environmental Science",category:"science"},{id:"earth_science",name:"Earth Science",category:"science"},{id:"astronomy",name:"Astronomy",category:"science"},{id:"history",name:"History",category:"social_science"},{id:"geography",name:"Geography",category:"social_science"},{id:"civics",name:"Civics",category:"social_science"},{id:"economics",name:"Economics",category:"social_science"},{id:"political_science",name:"Political Science",category:"social_science"},{id:"psychology",name:"Psychology",category:"social_science"},{id:"sociology",name:"Sociology",category:"social_science"},{id:"spanish",name:"Spanish",category:"languages"},{id:"french",name:"French",category:"languages"},{id:"german",name:"German",category:"languages"},{id:"mandarin",name:"Mandarin Chinese",category:"languages"},{id:"japanese",name:"Japanese",category:"languages"},{id:"arabic",name:"Arabic",category:"languages"},{id:"russian",name:"Russian",category:"languages"},{id:"art",name:"Art",category:"arts"},{id:"music",name:"Music",category:"arts"},{id:"drama",name:"Drama",category:"arts"},{id:"dance",name:"Dance",category:"arts"},{id:"philosophy",name:"Philosophy",category:"arts"},{id:"religious_studies",name:"Religious Studies",category:"arts"},{id:"computer_science",name:"Computer Science",category:"technology"},{id:"programming",name:"Programming",category:"technology"},{id:"web_development",name:"Web Development",category:"technology"},{id:"data_science",name:"Data Science",category:"technology"},{id:"artificial_intelligence",name:"Artificial Intelligence",category:"technology"},{id:"cybersecurity",name:"Cybersecurity",category:"technology"},{id:"business_studies",name:"Business Studies",category:"business"},{id:"accounting",name:"Accounting",category:"business"},{id:"marketing",name:"Marketing",category:"business"},{id:"entrepreneurship",name:"Entrepreneurship",category:"business"},{id:"management",name:"Management",category:"business"},{id:"home_economics",name:"Home Economics",category:"vocational"},{id:"physical_education",name:"Physical Education",category:"vocational"},{id:"health_education",name:"Health Education",category:"vocational"},{id:"career_guidance",name:"Career Guidance",category:"vocational"},{id:"financial_literacy",name:"Financial Literacy",category:"vocational"}])}catch(e){z([{id:"general",name:"General Session",category:"general"}])}})()},[]);const re=i.useMemo(()=>[{value:"lecture",label:M("session.categories.lecture","Lecture")},{value:"tutorial",label:M("session.categories.tutorial","Tutorial")},{value:"workshop",label:M("session.categories.workshop","Workshop")},{value:"seminar",label:M("session.categories.seminar","Seminar")},{value:"qna",label:M("session.categories.qna","Q&A Session")},{value:"review",label:M("session.categories.review","Review Session")},{value:"office_hours",label:M("session.categories.office_hours","Office Hours")},{value:"group_study",label:M("session.categories.group_study","Group Study")}],[M]),le=i.useMemo(()=>[{value:"private",label:M("session.visibility.private","Private - Only invited")},{value:"unlisted",label:M("session.visibility.unlisted","Unlisted - Anyone with link")},{value:"public",label:M("session.visibility.public","Public - Visible to all")}],[M]),ne=i.useMemo(()=>[{value:30,label:M("session.duration.30min","30 minutes")},{value:45,label:M("session.duration.45min","45 minutes")},{value:60,label:M("session.duration.1hour","1 hour")},{value:90,label:M("session.duration.1.5hour","1.5 hours")},{value:120,label:M("session.duration.2hour","2 hours")},{value:180,label:M("session.duration.3hour","3 hours")}],[M]),oe=i.useMemo(()=>[{value:10,label:M("session.participants.10","10 participants")},{value:25,label:M("session.participants.25","25 participants")},{value:50,label:M("session.participants.50","50 participants")},{value:100,label:M("session.participants.100","100 participants")},{value:250,label:M("session.participants.250","250 participants")},{value:500,label:M("session.participants.500","500 participants")}],[M]),ce=i.useMemo(()=>{const e={};q.forEach(s=>{e[s.category]||(e[s.category]=[]),e[s.category].push({value:s.id,label:s.name})});const s=[];e.general&&s.push(...e.general);return Object.keys(e).filter(e=>"general"!==e).forEach(a=>{s.push({value:`divider-${a}`,label:`--- ${a.toUpperCase().replace("_"," ")} ---`,disabled:!0}),s.push(...e[a])}),s},[q]),de=i.useMemo(()=>()=>e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-3 flex items-center",children:[e.jsx(m,{className:"h-5 w-5 mr-2"}),M("session.recordingGuide.title","Recording Setup Guide")]}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-700 dark:text-blue-300",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"1"}),e.jsx("p",{children:M("session.recordingGuide.step1","Start your Google Meet session at the scheduled time")})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"2"}),e.jsx("p",{children:M("session.recordingGuide.step2",'Click "Record meeting" in Google Meet controls')})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"3"}),e.jsx("p",{children:M("session.recordingGuide.step3","Teach your session as normal")})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"4"}),e.jsx("p",{children:M("session.recordingGuide.step4","End meeting or stop recording when finished")})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"5"}),e.jsx("p",{children:M("session.recordingGuide.step5","Recording will be saved to Google Drive automatically")})]})]})]}),[M]),me=i.useMemo(()=>()=>e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-3",children:F?M("session.editGuide.title","Edit Session Details"):M("session.creationGuide.title","How to Create a Google Meet Session")}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-700 dark:text-blue-300",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"1"}),e.jsxs("p",{children:[M("session.creationGuide.step1","Go to")," ",e.jsx("a",{href:"https://meet.google.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"meet.google.com"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"2"}),e.jsx("p",{children:M("session.creationGuide.step2",'Click "New meeting" → "Create a meeting for later"')})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"3"}),e.jsx("p",{children:M("session.creationGuide.step3","Copy the link and paste below")})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"4"}),e.jsx("p",{children:M("session.creationGuide.step4","Fill in details and schedule")})]})]})]}),[M,F]),ue=l(async e=>{const s=V(e.meetLink),a=new Date(e.scheduledTime),t=new Date(a.getTime()+6e4*e.duration),i={title:e.title?.trim()||"Untitled Session",description:e.description?.trim()||"",meetLink:s,scheduledTime:e.scheduledTime,sessionEndTime:t,duration:Number(e.duration)||60,category:e.category,visibility:e.visibility,instructorId:E.uid,instructorEmail:E.email,instructorName:E.displayName||E.email,courseId:e.courseId||"general",maxParticipants:Number(e.maxParticipants)||50,enableRecording:e.enableRecording??!0,isPublished:"public"===e.visibility,createdBy:E.uid};return F&&D?.id?await c.updateSession(D.id,i):await c.createSession(i)},{onSuccess:e=>{G.invalidateQueries(["sessions","teacherSessions","publicSessions"]),$(F?M("success.sessionUpdated","Session updated!"):M("success.sessionCreated","Session created!")),L(!1),setTimeout(()=>{T?.(e),t()},2e3)},onError:e=>{R(e.message||(F?M("errors.sessionUpdateFailed","Failed to update session."):M("errors.sessionCreationFailed","Failed to create session."))),L(!1)}}),ge=i.useMemo(()=>{const e=Q.scheduledTime?new Date(Q.scheduledTime).toLocaleDateString():"",s=Q.scheduledTime?new Date(Q.scheduledTime).toLocaleTimeString():"",a=q.find(e=>e.id===Q.courseId)?.name||"General Session",t=Q.enableRecording;return{date:e,time:s,duration:Q.duration,participants:Q.maxParticipants,course:a,recordingEnabled:t}},[Q,q]);return i.useEffect(()=>{const e=e=>"Escape"===e.key&&!_&&t();return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,_]),i.useEffect(()=>{D&&J({title:D.title||D.topic||"",description:D.description||"",meetLink:D.meetLink||"",scheduledTime:D.scheduledTime?new Date(D.scheduledTime).toISOString().slice(0,16):"",duration:D.duration||60,category:D.category||"lecture",visibility:D.visibility||"private",maxParticipants:D.maxParticipants||50,courseId:D.courseId||"general",enableRecording:D.enableRecording??!0})},[D,J]),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(u,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:F?M("session.editSession","Edit Session"):M("session.createNew","Create Google Meet Session")}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:F?M("session.editSubtitle","Update session details"):M("session.createSubtitle","Schedule a new session for your students")})]})]}),e.jsx("button",{onClick:t,disabled:_,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(g,{size:24})})]}),P&&e.jsxs("div",{className:"mx-6 mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-start space-x-3",children:[e.jsx(x,{className:"h-5 w-5 text-red-500 mt-0.5"}),e.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm flex-1",children:P}),e.jsx("button",{onClick:()=>R(""),className:"text-red-500 hover:text-red-700",children:e.jsx(g,{size:16})})]}),I&&e.jsxs("div",{className:"mx-6 mt-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl flex items-start space-x-3",children:[e.jsx(h,{className:"h-5 w-5 text-green-500 mt-0.5"}),e.jsx("p",{className:"text-green-700 dark:text-green-300 text-sm flex-1",children:I})]}),e.jsx("div",{className:"px-6 pt-4",children:e.jsx(me,{})}),e.jsxs("form",{onSubmit:U(async e=>{R(""),$(""),L(!0);const s=K(e.scheduledTime);if(!0!==s)return R(s),void L(!1);e.courseId||(e.courseId="general");try{await ue.mutateAsync(e)}catch{}}),className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(S,{label:`${M("session.title","Session Title")} *`,placeholder:M("session.titlePlaceholder","Enter title..."),error:B.title?.message,disabled:_,required:!0,icon:b,...A("title",{required:M("validation.required",{field:"Title"}),minLength:{value:3,message:M("validation.minLength",{min:3})},maxLength:{value:100,message:M("validation.maxLength",{max:100})}})})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(C,{label:M("session.description","Description"),rows:3,placeholder:M("session.descriptionPlaceholder","Describe the session..."),error:B.description?.message,disabled:_,...A("description",{maxLength:{value:500,message:M("validation.maxLength",{max:500})}})})}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(S,{label:`${M("session.meetLink","Google Meet Link")} *`,type:"text",inputMode:"url",placeholder:"https://meet.google.com/abc-def-ghi or just abc-def-ghi",error:B.meetLink?.message,disabled:_,icon:p,required:!0,...A("meetLink",{required:M("validation.required",{field:"Meet Link"})})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:M("session.meetLinkHelp",'Copy from Google Meet → "Create for later" or just paste the meeting code')}),e.jsx("p",{className:"text-xs text-blue-500 dark:text-blue-400 mt-1",children:"The link will be automatically formatted for proper redirection"})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(n,{label:`${M("session.course","Course/Subject")} *`,options:ce,value:Q.courseId,onChange:Z,disabled:_,error:B.courseId?.message,icon:f}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:M("session.courseHelp","Select the subject or course for this session")})]}),e.jsx("div",{children:e.jsx(S,{label:`${M("session.scheduledTime","Date & Time")} *`,type:"datetime-local",error:B.scheduledTime?.message,disabled:_,icon:j,required:!0,min:ie(),...A("scheduledTime",{required:M("validation.required",{field:"Date & Time"}),validate:{future:K}})})}),e.jsx(n,{label:`${M("session.duration","Duration")} *`,options:ne,value:Q.duration,onChange:X,disabled:_}),e.jsx(n,{label:`${M("session.category","Category")} *`,options:re,value:Q.category,onChange:ee,disabled:_}),e.jsx(n,{label:M("session.maxParticipants","Max Participants"),options:oe,value:Q.maxParticipants,onChange:se,disabled:_}),e.jsx(n,{label:`${M("session.visibility","Visibility")} *`,options:le,value:Q.visibility,onChange:ae,disabled:_})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:[e.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(m,{className:"h-5 w-5 mr-2 text-blue-500"}),M("session.recordingSettings","Recording Settings")]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:M("session.enableRecording","Enable Recording")}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:M("session.recordingDescription","Recordings will be automatically saved to Google Drive")})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Q.enableRecording,onChange:te,disabled:_}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})})]}),Q.enableRecording&&e.jsx(de,{})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:M("session.instructorInfo","Instructor")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[e.jsxs("strong",{children:[M("common.name","Name"),":"]})," ",E?.displayName||M("common.notSet","Not set")]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[e.jsxs("strong",{children:[M("common.email","Email"),":"]})," ",E?.email]})]})]})]}),Q.scheduledTime&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:M("session.summary","Summary")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[ge.date&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{className:"h-4 w-4 text-blue-400"}),e.jsxs("span",{className:"text-blue-700 dark:text-blue-300",children:[e.jsxs("strong",{children:[M("session.date","Date"),":"]})," ",ge.date]})]}),ge.time&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-4 w-4 text-blue-400"}),e.jsxs("span",{className:"text-blue-700 dark:text-blue-300",children:[e.jsxs("strong",{children:[M("session.time","Time"),":"]})," ",ge.time]})]}),ge.duration&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-4 w-4 text-blue-400"}),e.jsxs("span",{className:"text-blue-700 dark:text-blue-300",children:[e.jsxs("strong",{children:[M("session.duration","Duration"),":"]})," ",ge.duration," ",M("session.minutes","min")]})]}),ge.participants&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"h-4 w-4 text-blue-400"}),e.jsxs("span",{className:"text-blue-700 dark:text-blue-300",children:[e.jsxs("strong",{children:[M("session.maxParticipants","Max"),":"]})," ",ge.participants]})]}),ge.course&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{className:"h-4 w-4 text-blue-400"}),e.jsxs("span",{className:"text-blue-700 dark:text-blue-300",children:[e.jsxs("strong",{children:[M("session.course","Course"),":"]})," ",ge.course]})]}),e.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[e.jsx(m,{className:"h-4 w-4 text-blue-400"}),e.jsxs("span",{className:"text-blue-700 dark:text-blue-300",children:[e.jsxs("strong",{children:[M("session.recording","Recording"),":"]})," ",ge.recordingEnabled?M("session.recordingEnabled","Enabled"):M("session.recordingDisabled","Disabled")]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(o,{type:"button",variant:"outline",onClick:t,disabled:_,children:M("common.cancel","Cancel")}),e.jsx(o,{type:"submit",disabled:_||!H&&F||!O,loading:_,className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",icon:w,children:_?F?M("session.updating","Updating..."):M("session.creating","Creating..."):F?M("session.updateSession","Update Session"):M("session.createSession","Create Session")})]})]})]})})});export{T as default};
