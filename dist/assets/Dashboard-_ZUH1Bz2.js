var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(a,s,r)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r,n=(e,a)=>{for(var s in a||(a={}))t.call(a,s)&&i(e,s,a[s]);if(r)for(var s of r(a))l.call(a,s)&&i(e,s,a[s]);return e},o=(e,r)=>a(e,s(r));import{e as d,r as c,x as m,y as x,m as g,V as h,l as u,T as b,j as p,z as y,o as v,A as f,k as j,p as w,H as N,I as k,U as S,C,J as T,K as P,O as L,g as $,W as A}from"./vendor-react-UVl3l3eP.js";import{u as R,L as M}from"./index-DEgoYGZl.js";import{u as O}from"./userService-D6ZxaIsw.js";import{s as F}from"./sessionService-C_bGmzpN.js";import{r as U}from"./recordingService-DCQSlFNV.js";import{c as W}from"./courseService-Bk_98Hn2.js";import{B as z}from"./Button-BII5FLFC.js";import{I as D}from"./Input-C1mswRzZ.js";import"./vendor-BMEBppWF.js";import"./firebase-DbUGxvwD.js";import"./i18n-CsgR-yW4.js";const B=[{value:"createdAt",label:"Date Added"},{value:"title",label:"Title"},{value:"duration",label:"Duration"},{value:"views",label:"Popularity"},{value:"rating",label:"Rating"}],I=[{value:"all",label:"All Categories"},{value:"lecture",label:"Lectures"},{value:"tutorial",label:"Tutorials"},{value:"workshop",label:"Workshops"},{value:"qna",label:"Q&A Sessions"}],Y=[{value:"all",label:"All Status"},{value:"new",label:"New"},{value:"watched",label:"Watched"},{value:"completed",label:"Completed"},{value:"processing",label:"Processing"}],E=e=>{if(!e)return"0:00";const a=Math.floor(e/3600),s=Math.floor(e%3600/60),r=Math.floor(e%60);return a>0?`${a}:${s.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${s}:${r.toString().padStart(2,"0")}`},J=e=>{switch(e){case"completed":return"from-green-500 to-emerald-500";case"processing":return"from-yellow-500 to-orange-500";case"recording":return"from-blue-500 to-cyan-500";case"failed":return"from-red-500 to-pink-500";default:return"from-gray-500 to-gray-600"}},q=e=>e>=90?"from-green-500 to-emerald-500":e>=50?"from-yellow-500 to-orange-500":"from-blue-500 to-cyan-500",V=j.memo(({recording:e,onWatch:a,actionLoading:s,getTeacherName:r,teachers:t})=>{var l;const i=(e=>{switch(e){case"completed":return P;case"processing":return C;case"recording":return T;case"failed":return A;default:return h}})(e.status),n=e.progress||(e.watched?100:0),o=e.instructorName||r(e.instructorId);return p.jsx("div",{className:"group bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl border border-white/30 dark:border-gray-700/40 p-6 shadow-2xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex items-start space-x-4 flex-1 min-w-0",children:[p.jsx("div",{className:`p-3 rounded-2xl bg-gradient-to-br ${J(e.status)}`,children:p.jsx(i,{className:"h-6 w-6 text-white"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white text-lg line-clamp-1 flex-1",children:[e.title,e.meetLink&&p.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300 rounded-full",children:"Google Meet"})]}),p.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[e.watched&&p.jsx(P,{className:"h-4 w-4 text-green-500"}),e.isFeatured&&p.jsx(L,{className:"h-4 w-4 text-yellow-500 fill-current"})]})]}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-3 line-clamp-2",children:e.description||"No description provided"}),p.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600 dark:text-gray-400 mb-3",children:[o&&p.jsxs("span",{className:"flex items-center",children:[p.jsx(S,{className:"h-3 w-3 mr-1"}),o]}),e.category&&p.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:e.category})]}),p.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600 dark:text-gray-400",children:[p.jsxs("span",{className:"flex items-center",children:[p.jsx($,{className:"h-3 w-3 mr-1"}),e.views||0," views"]}),p.jsxs("span",{className:"flex items-center",children:[p.jsx(C,{className:"h-3 w-3 mr-1"}),E(e.duration)]}),e.averageRating>0&&p.jsxs("span",{className:"flex items-center",children:[p.jsx(L,{className:"h-3 w-3 mr-1 text-yellow-500 fill-current"}),e.averageRating.toFixed(1)]}),p.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium capitalize "+("completed"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"processing"===e.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:e.status})]}),n>0&&n<100&&p.jsxs("div",{className:"mt-3",children:[p.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mb-1",children:[p.jsx("span",{children:"Progress"}),p.jsxs("span",{children:[n,"%"]})]}),p.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:p.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${q(n)} transition-all duration-500`,style:{width:`${n}%`}})})]}),e.tags&&e.tags.length>0&&p.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((a,s)=>p.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:a},`tag-${e.id}-${s}`)),e.tags.length>3&&p.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400",children:["+",e.tags.length-3," more"]})]})]})]}),p.jsx("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ml-4",children:p.jsxs(z,{size:"sm",onClick:()=>a(e),disabled:s[e.id],className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[s[e.id]?p.jsx(M,{size:"sm",className:"mr-1"}):p.jsx(T,{className:"h-3 w-3 mr-1"}),(null==(l=e.recordingUrl)?void 0:l.includes("drive.google.com"))?"Watch on Drive":"Watch"]})})]})})}),_=j.memo(({session:e,onJoin:a,getTeacherName:s,teachers:r,type:t="teacher"})=>{const l=(e=>{if(!e)return{date:"TBD",time:"",full:"TBD"};const a=new Date(e);return{date:a.toLocaleDateString(),time:a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),full:a.toLocaleString()}})(e.scheduledTime),i=s(e.createdBy);return p.jsxs("div",{className:"flex items-center p-3 rounded-2xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-lg border border-white/40 dark:border-gray-600/40 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 group cursor-pointer",onClick:()=>a(e),children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.topic||e.title||"Untitled Session"}),"teacher"===t&&p.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[p.jsx(S,{className:"h-3 w-3 text-gray-500"}),p.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 truncate",children:i})]}),p.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[p.jsx(C,{className:"h-3 w-3 text-gray-500"}),p.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300",children:[l.date," at ",l.time]})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse "+("teacher"===t?"bg-green-500":"bg-red-500")}),p.jsx(T,{className:"h-4 w-4 text-green-500 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})}),G=()=>{var e,a,s;const{t:r}=d(),{user:t,userProfile:l,loading:i}=R(),[j,S]=c.useState(""),[C,T]=c.useState("all"),[P,L]=c.useState("all"),[$,A]=c.useState("all"),[E,J]=c.useState("createdAt"),[q,G]=c.useState("desc"),[H,K]=c.useState({}),[Q,X]=c.useState(!1),Z=null==t?void 0:t.uid,ee=null==l?void 0:l.isActive,ae=(null==l?void 0:l.displayName)||(null==(e=null==t?void 0:t.email)?void 0:e.split("@")[0]),{data:se,isLoading:re}=m(["studentSessions",Z],async()=>{const[e,a]=await Promise.all([F.getPublicSessions({status:"scheduled",dateRange:"upcoming",limit:10}),F.getTeacherSessionsForStudents({limit:20,daysAhead:30})]);return{recentSessions:e,teacherSessions:a}},{enabled:!!Z&&ee,staleTime:3e5,refetchOnWindowFocus:!1}),te=(null==se?void 0:se.recentSessions)||[],le=(null==se?void 0:se.teacherSessions)||[],{data:ie,fetchNextPage:ne,hasNextPage:oe,isFetchingNextPage:de,isLoading:ce,error:me,refetch:xe,isRefetching:ge}=x(["studentRecordings",Z,E,q],({pageParam:e=null})=>U.getAvailableRecordings({studentId:Z,cursor:e,limit:12,sortBy:E,sortOrder:q}),{getNextPageParam:e=>e.nextCursor||void 0,enabled:!!Z&&ee,retry:2,staleTime:3e5,refetchOnWindowFocus:!1}),{data:he=[],isLoading:ue,error:be}=m(["studentCourses",Z],()=>W.getPublishedCourses(20),{enabled:!!Z&&ee,staleTime:6e5}),{data:pe=[],isLoading:ye,error:ve}=m(["teachers"],()=>O.getAllUsers({role:"teacher",status:"active"}),{enabled:!!Z&&ee,select:e=>e.filter(e=>"teacher"===e.role&&e.isActive)}),fe=(null==ie?void 0:ie.pages.flatMap(e=>e.recordings||[]))||[],je=c.useMemo(()=>{if(!fe.length)return[];let e=fe;if(j){const a=j.toLowerCase();e=e.filter(e=>{var s,r,t,l;return(null==(s=e.title)?void 0:s.toLowerCase().includes(a))||(null==(r=e.description)?void 0:r.toLowerCase().includes(a))||(null==(t=e.tags)?void 0:t.some(e=>e.toLowerCase().includes(a)))||(null==(l=e.instructorName)?void 0:l.toLowerCase().includes(a))})}return"all"!==C&&(e=e.filter(e=>e.status===C||"watched"===C&&e.watched||"new"===C&&!e.watched)),"all"!==P&&(e=e.filter(e=>e.category===P)),"all"!==$&&(e=e.filter(e=>e.instructorId===$)),e.sort((e,a)=>{let s=e[E]||0,r=a[E]||0;return"createdAt"!==E&&"updatedAt"!==E&&"scheduledTime"!==E||(s=new Date(s).getTime(),r=new Date(r).getTime()),"desc"===q?r-s:s-r})},[fe,j,C,P,$,E,q]),we=c.useMemo(()=>"all"===$?le:le.filter(e=>e.createdBy===$),[le,$]),Ne=c.useMemo(()=>{const e=fe.filter(e=>e.watched).length,a=fe.length>0?Math.round(e/fe.length*100):0;return{enrolledClasses:he.length,availableRecordings:fe.filter(e=>e.isPublished&&"completed"===e.status).length,teachers:pe.length,totalWatchTime:fe.reduce((e,a)=>e+(a.duration||0),0),completedRecordings:e,upcomingSessions:te.length,teacherUpcomingSessions:we.length,googleMeetSessions:fe.filter(e=>e.meetLink).length,totalProgress:a}},[he,fe,pe,te,we]),ke=c.useCallback(e=>{var a;const s=pe.find(a=>a.uid===e);return(null==s?void 0:s.displayName)||(null==(a=null==s?void 0:s.email)?void 0:a.split("@")[0])||"Unknown Teacher"},[pe]),Se=c.useCallback(()=>{xe()},[xe]),Ce=c.useCallback(e=>{e.recordingUrl&&(K(a=>o(n({},a),{[e.id]:!0})),e.recordingUrl.includes("drive.google.com")&&window.open(e.recordingUrl,"_blank"),setTimeout(()=>{K(a=>o(n({},a),{[e.id]:!1}))},1e3))},[]),Te=c.useCallback(e=>{(e.meetLink||e.googleMeetLink)&&window.open(e.meetLink||e.googleMeetLink,"_blank")},[]),Pe=c.useMemo(()=>[{id:"enrolled-classes",name:"Enrolled Classes",value:Ne.enrolledClasses.toString(),icon:g,change:`${he.filter(e=>e.isPublished).length} active`,changeType:"positive",color:"from-blue-500 to-cyan-500",bgColor:"from-blue-500/10 to-cyan-500/10",description:"Your learning journey",loading:ue},{id:"available-recordings",name:"Available Recordings",value:Ne.availableRecordings.toString(),icon:h,change:`${Ne.completedRecordings} watched`,changeType:Ne.completedRecordings>0?"positive":"neutral",color:"from-green-500 to-emerald-500",bgColor:"from-green-500/10 to-emerald-500/10",description:"Ready to watch",loading:ce},{id:"teachers",name:"Teachers",value:Ne.teachers.toString(),icon:u,change:`${Ne.teacherUpcomingSessions} upcoming`,changeType:"neutral",color:"from-purple-500 to-pink-500",bgColor:"from-purple-500/10 to-pink-500/10",description:"Expert instructors",loading:ye},{id:"learning-progress",name:"Learning Progress",value:`${Ne.totalProgress}%`,icon:b,change:`${Math.round(Ne.totalWatchTime/3600)} hours watched`,changeType:Ne.totalProgress>50?"positive":"neutral",color:"from-orange-500 to-red-500",bgColor:"from-orange-500/10 to-red-500/10",description:"Your overall progress",loading:ce}],[Ne,he,ue,ce,ye]),Le=c.useMemo(()=>[{value:"all",label:"All Teachers"},...pe.map(e=>{var a;return{value:e.uid,label:e.displayName||(null==(a=e.email)?void 0:a.split("@")[0])||"Unknown Teacher"}})],[pe]),$e=me||be||ve;return i?p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900",children:p.jsxs("div",{className:"text-center",children:[p.jsx(M,{size:"lg"}),p.jsx("p",{className:"mt-3 text-sm text-gray-500 dark:text-gray-400",children:"Loading your dashboard..."})]})}):Z?ee?p.jsxs("div",{className:"space-y-6 sm:space-y-8 p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-blue-50 via-white to-cyan-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900 min-h-screen",children:[p.jsx("div",{className:"text-center lg:text-left",children:p.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent mb-2 sm:mb-3",children:"Student Dashboard"}),p.jsx("p",{className:"text-base sm:text-lg text-gray-700 dark:text-gray-300 max-w-2xl",children:"Access your classes, recordings, and learning materials"}),ae&&p.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Welcome back, ",p.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:ae})]}),"premium"===(null==(a=null==l?void 0:l.subscription)?void 0:a.plan)&&p.jsxs("span",{className:"px-2 py-1 text-xs bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-full flex items-center",children:[p.jsx(y,{className:"h-3 w-3 mr-1"}),"Premium Student"]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs(z,{onClick:Se,variant:"outline",disabled:ge,className:"hidden lg:flex items-center",children:[p.jsx(v,{className:"h-4 w-4 mr-2 "+(ge?"animate-spin":"")}),"Refresh"]}),p.jsxs(z,{onClick:()=>window.location.href="/courses",className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 shadow-lg",children:[p.jsx(g,{className:"h-4 w-4 mr-2"}),"Browse Classes"]})]})]})}),$e&&p.jsxs("div",{className:"bg-red-50/80 dark:bg-red-900/30 backdrop-blur-lg border border-red-200/50 dark:border-red-800/50 rounded-2xl p-4 flex items-center",children:[p.jsx(f,{className:"h-5 w-5 text-red-500 mr-3 flex-shrink-0"}),p.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm flex-1",children:"Failed to load content. Please try refreshing."}),p.jsx("button",{onClick:Se,className:"ml-4 text-red-500 hover:text-red-700 flex-shrink-0",children:p.jsx(v,{className:"h-4 w-4"})})]}),p.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 sm:grid-cols-2 xl:grid-cols-4",children:Pe.map(e=>{const a=e.icon;return p.jsxs("div",{className:"group relative overflow-hidden rounded-3xl bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl border border-white/30 dark:border-gray-700/40 p-4 sm:p-6 shadow-2xl hover:shadow-2xl transition-all duration-500 hover:scale-105",children:[p.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-br ${e.bgColor} rounded-3xl`}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[p.jsx("div",{className:`p-2 sm:p-3 rounded-2xl bg-gradient-to-br ${e.color} shadow-lg`,children:p.jsx(a,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),p.jsxs("div",{className:"flex items-center space-x-1",children:["positive"===e.changeType&&p.jsx(b,{className:"h-4 w-4 text-green-500"}),p.jsx("div",{className:"text-xs sm:text-sm font-semibold "+("positive"===e.changeType?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"),children:e.change})]})]}),e.loading?p.jsxs("div",{className:"animate-pulse",children:[p.jsx("div",{className:"h-7 sm:h-8 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),p.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"})]}):p.jsxs(p.Fragment,{children:[p.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-1 sm:mb-2",children:e.value}),p.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 mb-1",children:e.name}),p.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description})]})]})]},e.id)})}),p.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6 sm:gap-8",children:[p.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl border border-white/30 dark:border-gray-700/40 p-4 sm:p-6 shadow-2xl hover:shadow-2xl transition-all duration-300",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[p.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Teacher Sessions"}),p.jsx(u,{className:"h-5 w-5 text-purple-500"})]}),p.jsxs("div",{className:"space-y-3",children:[we.length>0?we.slice(0,5).map(e=>p.jsx(_,{session:e,onJoin:Te,getTeacherName:ke,teachers:pe,type:"teacher"},`teacher-session-${e.id}`)):p.jsxs("div",{className:"text-center py-4 text-gray-600 dark:text-gray-400",children:[p.jsx(u,{className:"mx-auto h-8 w-8 mb-2"}),p.jsx("p",{className:"text-sm",children:"No teacher sessions"}),p.jsx("p",{className:"text-xs mt-1",children:"Check back later for updates"})]}),we.length>5&&p.jsx(z,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>window.location.href="/sessions?view=teachers",children:"View All Teacher Sessions"})]})]}),p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl border border-white/30 dark:border-gray-700/40 p-4 sm:p-6 shadow-2xl hover:shadow-2xl transition-all duration-300",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[p.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Your Upcoming Sessions"}),p.jsx(w,{className:"h-5 w-5 text-blue-500"})]}),p.jsx("div",{className:"space-y-3",children:re?p.jsx("div",{className:"flex justify-center py-4",children:p.jsx(M,{size:"sm"})}):te.length>0?te.map(e=>p.jsx(_,{session:e,onJoin:Te,getTeacherName:ke,teachers:pe,type:"recent"},`recent-session-${e.id}`)):p.jsxs("div",{className:"text-center py-4 text-gray-600 dark:text-gray-400",children:[p.jsx(w,{className:"mx-auto h-8 w-8 mb-2"}),p.jsx("p",{className:"text-sm",children:"No upcoming sessions"}),p.jsx(z,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>window.location.href="/sessions",children:"View All Sessions"})]})})]})]}),p.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[p.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl border border-white/30 dark:border-gray-700/40 p-4 sm:p-6 shadow-2xl",children:p.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(N,{className:"h-4 w-4 text-gray-500"})}),p.jsx(D,{type:"text",className:"block w-full pl-10 pr-3 py-3 rounded-2xl bg-white/50 dark:bg-gray-700/50 border-white/40 dark:border-gray-600/40 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white",placeholder:"Search recordings by title, description, or instructor...",value:j,onChange:e=>S(e.target.value)})]})}),p.jsxs(z,{onClick:()=>X(!Q),variant:"outline",className:"lg:hidden",children:[p.jsx(k,{className:"h-4 w-4 mr-2"}),"Filters"]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 "+(Q?"flex":"hidden lg:flex"),children:[p.jsx("select",{className:"block w-full sm:w-auto px-3 py-3 text-sm rounded-2xl bg-white/50 dark:bg-gray-700/50 border-white/40 dark:border-gray-600/40 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:$,onChange:e=>A(e.target.value),children:Le.map(e=>p.jsx("option",{value:e.value,children:e.label},`teacher-${e.value}`))}),p.jsx("select",{className:"block w-full sm:w-auto px-3 py-3 text-sm rounded-2xl bg-white/50 dark:bg-gray-700/50 border-white/40 dark:border-gray-600/40 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:P,onChange:e=>L(e.target.value),children:I.map(e=>p.jsx("option",{value:e.value,children:e.label},`category-${e.value}`))}),p.jsx("select",{className:"block w-full sm:w-auto px-3 py-3 text-sm rounded-2xl bg-white/50 dark:bg-gray-700/50 border-white/40 dark:border-gray-600/40 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:C,onChange:e=>T(e.target.value),children:Y.map(e=>p.jsx("option",{value:e.value,children:e.label},`status-${e.value}`))}),p.jsx("select",{className:"block w-full sm:w-auto px-3 py-3 text-sm rounded-2xl bg-white/50 dark:bg-gray-700/50 border-white/40 dark:border-gray-600/40 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:E,onChange:e=>J(e.target.value),children:B.map(e=>p.jsx("option",{value:e.value,children:e.label},`sort-${e.value}`))}),p.jsx(z,{onClick:()=>G("desc"===q?"asc":"desc"),variant:"outline",className:"px-3",children:"desc"===q?"↓":"↑"}),p.jsx(z,{onClick:Se,variant:"outline",disabled:ge,children:p.jsx(v,{className:"h-4 w-4 "+(ge?"animate-spin":"")})})]})]})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Available Recordings"}),p.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[je.length," items",j&&` • matching "${j}"`,"all"!==$&&` • by ${null==(s=Le.find(e=>e.value===$))?void 0:s.label}`]})]}),ce?p.jsx("div",{className:"flex justify-center items-center min-h-64 bg-white/50 dark:bg-gray-800/50 rounded-3xl border border-white/30 dark:border-gray-700/40",children:p.jsxs("div",{className:"text-center",children:[p.jsx(M,{size:"lg"}),p.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:"Loading recordings..."})]})}):je.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:je.map(e=>p.jsx(V,{recording:e,onWatch:Ce,actionLoading:H,getTeacherName:ke,teachers:pe},`recording-${e.id}`))}),oe&&p.jsx("div",{className:"flex justify-center mt-8",children:p.jsx(z,{onClick:()=>ne(),disabled:de,variant:"outline",className:"flex items-center",children:de?p.jsxs(p.Fragment,{children:[p.jsx(M,{size:"sm",className:"mr-2"}),"Loading more recordings..."]}):p.jsx(p.Fragment,{children:"Load More Recordings"})})})]}):p.jsxs("div",{className:"text-center py-12 bg-white/50 dark:bg-gray-800/50 rounded-3xl border border-white/30 dark:border-gray-700/40",children:[p.jsx(h,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:j||"all"!==C||"all"!==P||"all"!==$?"No matching recordings":"No recordings available"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:j||"all"!==C||"all"!==P||"all"!==$?"Try adjusting your search or filters.":"Enroll in a class to access recordings."}),p.jsxs(z,{onClick:()=>window.location.href="/courses",className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600",children:[p.jsx(g,{className:"h-4 w-4 mr-2"}),"Browse Classes"]})]})]})]})]})]}):p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900",children:p.jsxs("div",{className:"text-center max-w-md p-8",children:[p.jsx(g,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Pending Approval"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your account is awaiting admin approval. You will be notified via email once approved."}),p.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-4",children:p.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Please contact the administrator if you have been waiting for more than 24 hours."})})]})}):p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900",children:p.jsxs("div",{className:"text-center max-w-md p-8",children:[p.jsx(g,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Authentication Required"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please log in to access the student dashboard."}),p.jsx(z,{onClick:()=>window.location.href="/login",className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 shadow-lg",children:"Sign in"})]})})};export{G as default};
