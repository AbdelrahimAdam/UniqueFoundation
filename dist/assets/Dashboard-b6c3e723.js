var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(a,s,r)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r,n=(e,a)=>{for(var s in a||(a={}))t.call(a,s)&&i(e,s,a[s]);if(r)for(var s of r(a))l.call(a,s)&&i(e,s,a[s]);return e},o=(e,r)=>a(e,s(r));import{k as d,j as c,x as m,y as x,U as g,g as h,C as u,z as b,e as p,r as y,H as v,I as f,m as j,V as w,l as N,T as k,J as S,o as C,A as T,p as P,K as L,O as $,W as A}from"./vendor-react-b59152ff.js";import{L as R,u as M}from"./index-cde8ec3e.js";import{u as O}from"./userService-3683d387.js";import{s as F}from"./sessionService-cec466cd.js";import{r as U}from"./recordingService-f09f52a5.js";import{c as W}from"./courseService-97d71fc9.js";import{B as z}from"./Button-d86c7bdc.js";import{I as D}from"./Input-cd14ec45.js";import"./vendor-c2e5c299.js";import"./firebase-a4f86f3d.js";import"./i18n-417c627b.js";const B=[{value:"createdAt",label:"Date Added"},{value:"title",label:"Title"},{value:"duration",label:"Duration"},{value:"views",label:"Popularity"},{value:"rating",label:"Rating"}],I=[{value:"all",label:"All Categories"},{value:"lecture",label:"Lectures"},{value:"tutorial",label:"Tutorials"},{value:"workshop",label:"Workshops"},{value:"qna",label:"Q&A Sessions"}],Y=[{value:"all",label:"All Status"},{value:"new",label:"New"},{value:"watched",label:"Watched"},{value:"completed",label:"Completed"},{value:"processing",label:"Processing"}],E=e=>{if(!e)return"0:00";const a=Math.floor(e/3600),s=Math.floor(e%3600/60),r=Math.floor(e%60);return a>0?`${a}:${s.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${s}:${r.toString().padStart(2,"0")}`},J=e=>{switch(e){case"completed":return"from-green-500 to-emerald-500";case"processing":return"from-yellow-500 to-orange-500";case"recording":return"from-blue-500 to-cyan-500";case"failed":return"from-red-500 to-pink-500";default:return"from-gray-500 to-gray-600"}},q=e=>e>=90?"from-green-500 to-emerald-500":e>=50?"from-yellow-500 to-orange-500":"from-blue-500 to-cyan-500",V=d.memo(({recording:e,onWatch:a,actionLoading:s,getTeacherName:r,teachers:t})=>{var l;const i=(e=>{switch(e){case"completed":return m;case"processing":return u;case"recording":return b;case"failed":return A;default:return w}})(e.status),n=e.progress||(e.watched?100:0),o=e.instructorName||r(e.instructorId);return c.jsx("div",{className:"group bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl border border-white/30 dark:border-gray-700/40 p-6 shadow-2xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start space-x-4 flex-1 min-w-0",children:[c.jsx("div",{className:`p-3 rounded-2xl bg-gradient-to-br ${J(e.status)}`,children:c.jsx(i,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white text-lg line-clamp-1 flex-1",children:[e.title,e.meetLink&&c.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300 rounded-full",children:"Google Meet"})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[e.watched&&c.jsx(m,{className:"h-4 w-4 text-green-500"}),e.isFeatured&&c.jsx(x,{className:"h-4 w-4 text-yellow-500 fill-current"})]})]}),c.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-3 line-clamp-2",children:e.description||"No description provided"}),c.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600 dark:text-gray-400 mb-3",children:[o&&c.jsxs("span",{className:"flex items-center",children:[c.jsx(g,{className:"h-3 w-3 mr-1"}),o]}),e.category&&c.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:e.category})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600 dark:text-gray-400",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx(h,{className:"h-3 w-3 mr-1"}),e.views||0," views"]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx(u,{className:"h-3 w-3 mr-1"}),E(e.duration)]}),e.averageRating>0&&c.jsxs("span",{className:"flex items-center",children:[c.jsx(x,{className:"h-3 w-3 mr-1 text-yellow-500 fill-current"}),e.averageRating.toFixed(1)]}),c.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium capitalize "+("completed"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"processing"===e.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:e.status})]}),n>0&&n<100&&c.jsxs("div",{className:"mt-3",children:[c.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mb-1",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[n,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${q(n)} transition-all duration-500`,style:{width:`${n}%`}})})]}),e.tags&&e.tags.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map((a,s)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:a},`tag-${e.id}-${s}`)),e.tags.length>3&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400",children:["+",e.tags.length-3," more"]})]})]})]}),c.jsx("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ml-4",children:c.jsxs(z,{size:"sm",onClick:()=>a(e),disabled:s[e.id],className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[s[e.id]?c.jsx(R,{size:"sm",className:"mr-1"}):c.jsx(b,{className:"h-3 w-3 mr-1"}),(null==(l=e.recordingUrl)?void 0:l.includes("drive.google.com"))?"Watch on Drive":"Watch"]})})]})})}),_=d.memo(({session:e,onJoin:a,getTeacherName:s,teachers:r,type:t="teacher"})=>{const l=(e=>{if(!e)return{date:"TBD",time:"",full:"TBD"};const a=new Date(e);return{date:a.toLocaleDateString(),time:a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),full:a.toLocaleString()}})(e.scheduledTime),i=s(e.createdBy);return c.jsxs("div",{className:"flex items-center p-3 rounded-2xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-lg border border-white/40 dark:border-gray-600/40 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 group cursor-pointer",onClick:()=>a(e),children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.topic||e.title||"Untitled Session"}),"teacher"===t&&c.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[c.jsx(g,{className:"h-3 w-3 text-gray-500"}),c.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 truncate",children:i})]}),c.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[c.jsx(u,{className:"h-3 w-3 text-gray-500"}),c.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300",children:[l.date," at ",l.time]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse "+("teacher"===t?"bg-green-500":"bg-red-500")}),c.jsx(b,{className:"h-4 w-4 text-green-500 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})}),G=()=>{var e,a,s;p();const{user:r,userProfile:t,loading:l}=M(),[i,d]=y.useState(""),[m,x]=y.useState("all"),[g,h]=y.useState("all"),[u,b]=y.useState("all"),[A,E]=y.useState("createdAt"),[J,q]=y.useState("desc"),[G,H]=y.useState({}),[K,Q]=y.useState(!1),X=null==r?void 0:r.uid,Z=null==t?void 0:t.isActive,ee=(null==t?void 0:t.displayName)||(null==(e=null==r?void 0:r.email)?void 0:e.split("@")[0]),{data:ae,isLoading:se}=v(["studentSessions",X],async()=>{const[e,a]=await Promise.all([F.getPublicSessions({status:"scheduled",dateRange:"upcoming",limit:10}),F.getTeacherSessionsForStudents({limit:20,daysAhead:30})]);return{recentSessions:e,teacherSessions:a}},{enabled:!!X&&Z,staleTime:3e5,refetchOnWindowFocus:!1}),re=(null==ae?void 0:ae.recentSessions)||[],te=(null==ae?void 0:ae.teacherSessions)||[],{data:le,fetchNextPage:ie,hasNextPage:ne,isFetchingNextPage:oe,isLoading:de,error:ce,refetch:me,isRefetching:xe}=f(["studentRecordings",X,A,J],({pageParam:e=null})=>U.getAvailableRecordings({studentId:X,cursor:e,limit:12,sortBy:A,sortOrder:J}),{getNextPageParam:e=>e.nextCursor||void 0,enabled:!!X&&Z,retry:2,staleTime:3e5,refetchOnWindowFocus:!1}),{data:ge=[],isLoading:he,error:ue}=v(["studentCourses",X],()=>W.getPublishedCourses(20),{enabled:!!X&&Z,staleTime:6e5}),{data:be=[],isLoading:pe,error:ye}=v(["teachers"],()=>O.getAllUsers({role:"teacher",status:"active"}),{enabled:!!X&&Z,select:e=>e.filter(e=>"teacher"===e.role&&e.isActive)}),ve=(null==le?void 0:le.pages.flatMap(e=>e.recordings||[]))||[],fe=y.useMemo(()=>{if(!ve.length)return[];let e=ve;if(i){const a=i.toLowerCase();e=e.filter(e=>{var s,r,t,l;return(null==(s=e.title)?void 0:s.toLowerCase().includes(a))||(null==(r=e.description)?void 0:r.toLowerCase().includes(a))||(null==(t=e.tags)?void 0:t.some(e=>e.toLowerCase().includes(a)))||(null==(l=e.instructorName)?void 0:l.toLowerCase().includes(a))})}return"all"!==m&&(e=e.filter(e=>e.status===m||"watched"===m&&e.watched||"new"===m&&!e.watched)),"all"!==g&&(e=e.filter(e=>e.category===g)),"all"!==u&&(e=e.filter(e=>e.instructorId===u)),e.sort((e,a)=>{let s=e[A]||0,r=a[A]||0;return"createdAt"!==A&&"updatedAt"!==A&&"scheduledTime"!==A||(s=new Date(s).getTime(),r=new Date(r).getTime()),"desc"===J?r-s:s-r})},[ve,i,m,g,u,A,J]),je=y.useMemo(()=>"all"===u?te:te.filter(e=>e.createdBy===u),[te,u]),we=y.useMemo(()=>{const e=ve.filter(e=>e.watched).length,a=ve.length>0?Math.round(e/ve.length*100):0;return{enrolledClasses:ge.length,availableRecordings:ve.filter(e=>e.isPublished&&"completed"===e.status).length,teachers:be.length,totalWatchTime:ve.reduce((e,a)=>e+(a.duration||0),0),completedRecordings:e,upcomingSessions:re.length,teacherUpcomingSessions:je.length,googleMeetSessions:ve.filter(e=>e.meetLink).length,totalProgress:a}},[ge,ve,be,re,je]),Ne=y.useCallback(e=>{var a;const s=be.find(a=>a.uid===e);return(null==s?void 0:s.displayName)||(null==(a=null==s?void 0:s.email)?void 0:a.split("@")[0])||"Unknown Teacher"},[be]),ke=y.useCallback(()=>{me()},[me]),Se=y.useCallback(e=>{e.recordingUrl&&(H(a=>o(n({},a),{[e.id]:!0})),e.recordingUrl.includes("drive.google.com")&&window.open(e.recordingUrl,"_blank"),setTimeout(()=>{H(a=>o(n({},a),{[e.id]:!1}))},1e3))},[]),Ce=y.useCallback(e=>{(e.meetLink||e.googleMeetLink)&&window.open(e.meetLink||e.googleMeetLink,"_blank")},[]),Te=y.useMemo(()=>[{id:"enrolled-classes",name:"Enrolled Classes",value:we.enrolledClasses.toString(),icon:j,change:`${ge.filter(e=>e.isPublished).length} active`,changeType:"positive",color:"from-blue-500 to-cyan-500",bgColor:"from-blue-500/10 to-cyan-500/10",description:"Your learning journey",loading:he},{id:"available-recordings",name:"Available Recordings",value:we.availableRecordings.toString(),icon:w,change:`${we.completedRecordings} watched`,changeType:we.completedRecordings>0?"positive":"neutral",color:"from-green-500 to-emerald-500",bgColor:"from-green-500/10 to-emerald-500/10",description:"Ready to watch",loading:de},{id:"teachers",name:"Teachers",value:we.teachers.toString(),icon:N,change:`${we.teacherUpcomingSessions} upcoming`,changeType:"neutral",color:"from-purple-500 to-pink-500",bgColor:"from-purple-500/10 to-pink-500/10",description:"Expert instructors",loading:pe},{id:"learning-progress",name:"Learning Progress",value:`${we.totalProgress}%`,icon:k,change:`${Math.round(we.totalWatchTime/3600)} hours watched`,changeType:we.totalProgress>50?"positive":"neutral",color:"from-orange-500 to-red-500",bgColor:"from-orange-500/10 to-red-500/10",description:"Your overall progress",loading:de}],[we,ge,he,de,pe]),Pe=y.useMemo(()=>[{value:"all",label:"All Teachers"},...be.map(e=>{var a;return{value:e.uid,label:e.displayName||(null==(a=e.email)?void 0:a.split("@")[0])||"Unknown Teacher"}})],[be]),Le=ce||ue||ye;return l?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900",children:c.jsxs("div",{className:"text-center",children:[c.jsx(R,{size:"lg"}),c.jsx("p",{className:"mt-3 text-sm text-gray-500 dark:text-gray-400",children:"Loading your dashboard..."})]})}):X?Z?c.jsxs("div",{className:"space-y-6 sm:space-y-8 p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-blue-50 via-white to-cyan-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900 min-h-screen",children:[c.jsx("div",{className:"text-center lg:text-left",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent mb-2 sm:mb-3",children:"Student Dashboard"}),c.jsx("p",{className:"text-base sm:text-lg text-gray-700 dark:text-gray-300 max-w-2xl",children:"Access your classes, recordings, and learning materials"}),ee&&c.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Welcome back, ",c.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:ee})]}),"premium"===(null==(a=null==t?void 0:t.subscription)?void 0:a.plan)&&c.jsxs("span",{className:"px-2 py-1 text-xs bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-full flex items-center",children:[c.jsx(S,{className:"h-3 w-3 mr-1"}),"Premium Student"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(z,{onClick:ke,variant:"outline",disabled:xe,className:"hidden lg:flex items-center",children:[c.jsx(C,{className:"h-4 w-4 mr-2 "+(xe?"animate-spin":"")}),"Refresh"]}),c.jsxs(z,{onClick:()=>window.location.href="/courses",className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 shadow-lg",children:[c.jsx(j,{className:"h-4 w-4 mr-2"}),"Browse Classes"]})]})]})}),Le&&c.jsxs("div",{className:"bg-red-50/80 dark:bg-red-900/30 backdrop-blur-lg border border-red-200/50 dark:border-red-800/50 rounded-2xl p-4 flex items-center",children:[c.jsx(T,{className:"h-5 w-5 text-red-500 mr-3 flex-shrink-0"}),c.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm flex-1",children:"Failed to load content. Please try refreshing."}),c.jsx("button",{onClick:ke,className:"ml-4 text-red-500 hover:text-red-700 flex-shrink-0",children:c.jsx(C,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 sm:grid-cols-2 xl:grid-cols-4",children:Te.map(e=>{const a=e.icon;return c.jsxs("div",{className:"group relative overflow-hidden rounded-3xl bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl border border-white/30 dark:border-gray-700/40 p-4 sm:p-6 shadow-2xl hover:shadow-2xl transition-all duration-500 hover:scale-105",children:[c.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-br ${e.bgColor} rounded-3xl`}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[c.jsx("div",{className:`p-2 sm:p-3 rounded-2xl bg-gradient-to-br ${e.color} shadow-lg`,children:c.jsx(a,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),c.jsxs("div",{className:"flex items-center space-x-1",children:["positive"===e.changeType&&c.jsx(k,{className:"h-4 w-4 text-green-500"}),c.jsx("div",{className:"text-xs sm:text-sm font-semibold "+("positive"===e.changeType?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"),children:e.change})]})]}),e.loading?c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-7 sm:h-8 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"})]}):c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-1 sm:mb-2",children:e.value}),c.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 mb-1",children:e.name}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description})]})]})]},e.id)})}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6 sm:gap-8",children:[c.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl border border-white/30 dark:border-gray-700/40 p-4 sm:p-6 shadow-2xl hover:shadow-2xl transition-all duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Teacher Sessions"}),c.jsx(N,{className:"h-5 w-5 text-purple-500"})]}),c.jsxs("div",{className:"space-y-3",children:[je.length>0?je.slice(0,5).map(e=>c.jsx(_,{session:e,onJoin:Ce,getTeacherName:Ne,teachers:be,type:"teacher"},`teacher-session-${e.id}`)):c.jsxs("div",{className:"text-center py-4 text-gray-600 dark:text-gray-400",children:[c.jsx(N,{className:"mx-auto h-8 w-8 mb-2"}),c.jsx("p",{className:"text-sm",children:"No teacher sessions"}),c.jsx("p",{className:"text-xs mt-1",children:"Check back later for updates"})]}),je.length>5&&c.jsx(z,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>window.location.href="/sessions?view=teachers",children:"View All Teacher Sessions"})]})]}),c.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl border border-white/30 dark:border-gray-700/40 p-4 sm:p-6 shadow-2xl hover:shadow-2xl transition-all duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Your Upcoming Sessions"}),c.jsx(P,{className:"h-5 w-5 text-blue-500"})]}),c.jsx("div",{className:"space-y-3",children:se?c.jsx("div",{className:"flex justify-center py-4",children:c.jsx(R,{size:"sm"})}):re.length>0?re.map(e=>c.jsx(_,{session:e,onJoin:Ce,getTeacherName:Ne,teachers:be,type:"recent"},`recent-session-${e.id}`)):c.jsxs("div",{className:"text-center py-4 text-gray-600 dark:text-gray-400",children:[c.jsx(P,{className:"mx-auto h-8 w-8 mb-2"}),c.jsx("p",{className:"text-sm",children:"No upcoming sessions"}),c.jsx(z,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>window.location.href="/sessions",children:"View All Sessions"})]})})]})]}),c.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[c.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl border border-white/30 dark:border-gray-700/40 p-4 sm:p-6 shadow-2xl",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(L,{className:"h-4 w-4 text-gray-500"})}),c.jsx(D,{type:"text",className:"block w-full pl-10 pr-3 py-3 rounded-2xl bg-white/50 dark:bg-gray-700/50 border-white/40 dark:border-gray-600/40 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white",placeholder:"Search recordings by title, description, or instructor...",value:i,onChange:e=>d(e.target.value)})]})}),c.jsxs(z,{onClick:()=>Q(!K),variant:"outline",className:"lg:hidden",children:[c.jsx($,{className:"h-4 w-4 mr-2"}),"Filters"]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 "+(K?"flex":"hidden lg:flex"),children:[c.jsx("select",{className:"block w-full sm:w-auto px-3 py-3 text-sm rounded-2xl bg-white/50 dark:bg-gray-700/50 border-white/40 dark:border-gray-600/40 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:u,onChange:e=>b(e.target.value),children:Pe.map(e=>c.jsx("option",{value:e.value,children:e.label},`teacher-${e.value}`))}),c.jsx("select",{className:"block w-full sm:w-auto px-3 py-3 text-sm rounded-2xl bg-white/50 dark:bg-gray-700/50 border-white/40 dark:border-gray-600/40 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:g,onChange:e=>h(e.target.value),children:I.map(e=>c.jsx("option",{value:e.value,children:e.label},`category-${e.value}`))}),c.jsx("select",{className:"block w-full sm:w-auto px-3 py-3 text-sm rounded-2xl bg-white/50 dark:bg-gray-700/50 border-white/40 dark:border-gray-600/40 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:m,onChange:e=>x(e.target.value),children:Y.map(e=>c.jsx("option",{value:e.value,children:e.label},`status-${e.value}`))}),c.jsx("select",{className:"block w-full sm:w-auto px-3 py-3 text-sm rounded-2xl bg-white/50 dark:bg-gray-700/50 border-white/40 dark:border-gray-600/40 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:A,onChange:e=>E(e.target.value),children:B.map(e=>c.jsx("option",{value:e.value,children:e.label},`sort-${e.value}`))}),c.jsx(z,{onClick:()=>q("desc"===J?"asc":"desc"),variant:"outline",className:"px-3",children:"desc"===J?"↓":"↑"}),c.jsx(z,{onClick:ke,variant:"outline",disabled:xe,children:c.jsx(C,{className:"h-4 w-4 "+(xe?"animate-spin":"")})})]})]})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Available Recordings"}),c.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[fe.length," items",i&&` • matching "${i}"`,"all"!==u&&` • by ${null==(s=Pe.find(e=>e.value===u))?void 0:s.label}`]})]}),de?c.jsx("div",{className:"flex justify-center items-center min-h-64 bg-white/50 dark:bg-gray-800/50 rounded-3xl border border-white/30 dark:border-gray-700/40",children:c.jsxs("div",{className:"text-center",children:[c.jsx(R,{size:"lg"}),c.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:"Loading recordings..."})]})}):fe.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:fe.map(e=>c.jsx(V,{recording:e,onWatch:Se,actionLoading:G,getTeacherName:Ne,teachers:be},`recording-${e.id}`))}),ne&&c.jsx("div",{className:"flex justify-center mt-8",children:c.jsx(z,{onClick:()=>ie(),disabled:oe,variant:"outline",className:"flex items-center",children:oe?c.jsxs(c.Fragment,{children:[c.jsx(R,{size:"sm",className:"mr-2"}),"Loading more recordings..."]}):c.jsx(c.Fragment,{children:"Load More Recordings"})})})]}):c.jsxs("div",{className:"text-center py-12 bg-white/50 dark:bg-gray-800/50 rounded-3xl border border-white/30 dark:border-gray-700/40",children:[c.jsx(w,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:i||"all"!==m||"all"!==g||"all"!==u?"No matching recordings":"No recordings available"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:i||"all"!==m||"all"!==g||"all"!==u?"Try adjusting your search or filters.":"Enroll in a class to access recordings."}),c.jsxs(z,{onClick:()=>window.location.href="/courses",className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600",children:[c.jsx(j,{className:"h-4 w-4 mr-2"}),"Browse Classes"]})]})]})]})]})]}):c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900",children:c.jsxs("div",{className:"text-center max-w-md p-8",children:[c.jsx(j,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Pending Approval"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your account is awaiting admin approval. You will be notified via email once approved."}),c.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-4",children:c.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Please contact the administrator if you have been waiting for more than 24 hours."})})]})}):c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900",children:c.jsxs("div",{className:"text-center max-w-md p-8",children:[c.jsx(j,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Authentication Required"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please log in to access the student dashboard."}),c.jsx(z,{onClick:()=>window.location.href="/login",className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 shadow-lg",children:"Sign in"})]})})};export{G as default};
