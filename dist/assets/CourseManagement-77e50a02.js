import{j as e,L as s}from"./index-ce15b861.js";import{r}from"./vendor-0a74ad82.js";import"./firebase-383b8577.js";import{c as t}from"./courseService-d53954a4.js";import{B as a}from"./Button-fb358952.js";import{u as l}from"./useTranslation-9d3f62b5.js";import{P as i}from"./plus-d285199b.js";import{B as d}from"./book-open-4dbb8b42.js";import{C as c}from"./check-circle-dac5ac57.js";import{C as n}from"./clock-5d166213.js";import{U as o}from"./users-1bfd9ab7.js";import{S as x}from"./search-e15913c7.js";import{F as m}from"./filter-0e023312.js";import{C as h}from"./calendar-9dea7464.js";import{E as g}from"./eye-ccc819fa.js";import{P as u}from"./pen-square-386b9902.js";import{X as j}from"./x-circle-757a3079.js";import"./router-80e9042b.js";const b=()=>{l();const[b,p]=r.useState([]),[f,y]=r.useState(!0),[N,w]=r.useState(""),[v,k]=r.useState("all"),[C,S]=r.useState({});r.useEffect(()=>{P()},[]);const P=async()=>{try{y(!0);const e=await t.getAllCourses();p(e)}catch(e){}finally{y(!1)}},L=b.filter(e=>{const s=e.title?.toLowerCase().includes(N.toLowerCase())||e.description?.toLowerCase().includes(N.toLowerCase())||e.instructorName?.toLowerCase().includes(N.toLowerCase()),r="all"===v||"published"===v&&e.isPublished||"draft"===v&&!e.isPublished;return s&&r}),z={total:b.length,published:b.filter(e=>e.isPublished).length,draft:b.filter(e=>!e.isPublished).length,totalStudents:b.reduce((e,s)=>e+(s.studentsCount||0),0)};return f?e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsx(s,{size:"lg"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Course Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage all courses and learning content"})]}),e.jsxs(a,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[e.jsx(i,{className:"h-4 w-4 mr-2"}),"Create Course"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Courses"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:z.total})]}),e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(d,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Published"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:z.published})]}),e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(c,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Draft"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:z.draft})]}),e.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:e.jsx(n,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:z.totalStudents})]}),e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:e.jsx(o,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search courses...",value:N,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("select",{value:v,onChange:e=>k(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"draft",children:"Draft"})]}),e.jsxs(a,{variant:"outline",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:L.map(s=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"h-48 bg-gradient-to-br from-purple-500 to-pink-500 relative",children:[s.thumbnailUrl?e.jsx("img",{src:s.thumbnailUrl,alt:s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(d,{className:"h-12 w-12 text-white opacity-80"})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+(s.isPublished?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"),children:s.isPublished?"Published":"Draft"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg line-clamp-2",children:s.title})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:s.description||"No description provided"}),e.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(o,{className:"h-4 w-4 mr-1"}),s.studentsCount||0," students"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(h,{className:"h-4 w-4 mr-1"}),new Date(s.createdAt).toLocaleDateString()]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:s.instructorName?.charAt(0)||"I"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.instructorName})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(a,{size:"sm",variant:"outline",children:e.jsx(g,{className:"h-4 w-4"})}),e.jsx(a,{size:"sm",variant:"outline",children:e.jsx(u,{className:"h-4 w-4"})}),s.isPublished?e.jsx(a,{size:"sm",variant:"outline",onClick:()=>(async e=>{try{S(s=>({...s,[e]:!0})),await t.unpublishCourse(e),await P()}catch(s){}finally{S(s=>({...s,[e]:!1}))}})(s.id),disabled:C[s.id],children:e.jsx(j,{className:"h-4 w-4"})}):e.jsx(a,{size:"sm",onClick:()=>(async e=>{try{S(s=>({...s,[e]:!0})),await t.publishCourse(e),await P()}catch(s){}finally{S(s=>({...s,[e]:!1}))}})(s.id),disabled:C[s.id],children:e.jsx(c,{className:"h-4 w-4"})})]})]})]})]},s.id))}),0===L.length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(d,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No courses found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:N||"all"!==v?"Try adjusting your search or filters":"Get started by creating your first course"}),e.jsxs(a,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[e.jsx(i,{className:"h-4 w-4 mr-2"}),"Create Course"]})]})]})};export{b as default};
