import{_ as e,d as s,j as t,L as a}from"./index-ce15b861.js";import{c as r,r as l}from"./vendor-0a74ad82.js";import{c as i,B as d}from"./Button-fb358952.js";import{u as n}from"./userService-00d5d7fe.js";import{A as c,B as o,D as m,G as x,H as h,I as g,J as u,s as p}from"./firebase-383b8577.js";import{r as b}from"./recordingService-dfe80829.js";import{u as y}from"./useTranslation-9d3f62b5.js";import{U as j}from"./users-1bfd9ab7.js";import{V as f}from"./video-63348c6e.js";import{B as N}from"./book-open-4dbb8b42.js";import{B as w}from"./bar-chart-3-158955dd.js";import{C as v}from"./clock-5d166213.js";import{R as k}from"./refresh-cw-c5a59bfc.js";import{D as S}from"./download-0e098eb5.js";import{P as C}from"./pie-chart-9712cfe3.js";import{F as A}from"./file-text-fe19bc5b.js";import{P as D}from"./plus-d285199b.js";import{G as U,U as T}from"./upload-a712be01.js";import{C as L}from"./calendar-9dea7464.js";import{U as $}from"./user-1dea5926.js";import{L as M}from"./link-91bf4f7a.js";import{E as R}from"./eye-ccc819fa.js";import{S as z}from"./settings-6d782a8d.js";import{C as P}from"./check-97dea4ca.js";import{X as _}from"./x-b8d49cff.js";import{A as E}from"./alert-circle-354385f5.js";import{Z as B}from"./zap-bb9a414b.js";import"./router-80e9042b.js";const F=i("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),I=i("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),O=l.lazy(()=>e(()=>import("./CreateSessionModal-40ddcd14.js"),["assets/CreateSessionModal-40ddcd14.js","assets/index-ce15b861.js","assets/vendor-0a74ad82.js","assets/router-80e9042b.js","assets/firebase-383b8577.js","assets/index-2fa6c378.css","assets/index.esm-e04fd8e7.js","assets/Select-3566718e.js","assets/utils-db1934d6.js","assets/Button-fb358952.js","assets/chevron-down-51b415ee.js","assets/alert-circle-354385f5.js","assets/search-e15913c7.js","assets/check-97dea4ca.js","assets/sessionService-b3fdcd6e.js","assets/useTranslation-9d3f62b5.js","assets/camera-0148ccce.js","assets/video-63348c6e.js","assets/x-b8d49cff.js","assets/check-circle-dac5ac57.js","assets/file-text-fe19bc5b.js","assets/link-91bf4f7a.js","assets/book-open-4dbb8b42.js","assets/calendar-9dea7464.js","assets/user-1dea5926.js","assets/upload-a712be01.js","assets/clock-5d166213.js","assets/users-1bfd9ab7.js","assets/plus-d285199b.js"])),V=["dashboard","users","courses","sessions","analytics"],G=r.memo(()=>{y();const[e,r]=l.useState("dashboard"),[i,G]=l.useState([]),[J,H]=l.useState([]),[q,K]=l.useState([]),[Q,W]=l.useState([]),[Z,X]=l.useState(!0),[Y,ee]=l.useState(!0),[se,te]=l.useState({totalUsers:0,activeSessions:0,totalCourses:0,totalRecordings:0,pendingUsers:0,storageUsed:0,totalDuration:0,meetSessions:0,recordedSessions:0,upcomingSessions:0}),[ae,re]=l.useState([]),[le,ie]=l.useState(null),[de,ne]=l.useState(null),[ce,oe]=l.useState({}),[me,xe]=l.useState(""),[he,ge]=l.useState("all"),[ue,pe]=l.useState(!1),be=e=>{if(!e)return"Never";const s=new Date,t=Math.floor((s-new Date(e))/1e3);return t<60?"Just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:t<2592e3?`${Math.floor(t/86400)}d ago`:new Date(e).toLocaleDateString()},ye=e=>{if(!e)return"0 B";const s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["B","KB","MB","GB"][s]},je=e=>{if(!e)return"0:00";const s=Math.floor(e/3600),t=Math.floor(e%3600/60),a=Math.floor(e%60);return s>0?`${s}:${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${t}:${a.toString().padStart(2,"0")}`},fe=l.useCallback(async()=>{try{X(!0),ee(!0),ie(null),ne(null),await we(),await ve(),await Ne(),await ke(),await Se()}catch(e){e.message?.includes("index")||"failed-precondition"===e.code?ne("Some advanced features require Firestore indexes. Basic data is loaded."):ie("Failed to load dashboard data. Please try refreshing the page.")}finally{X(!1),ee(!1)}},[]),Ne=l.useCallback(async()=>{try{const[e,t]=await Promise.all([c(o(m(s,"recordings"),x("isPublished","==",!0),x("status","==","completed"),h("createdAt","desc"),g(50))),c(o(m(s,"sessions"),x("status","in",["scheduled","live"]),h("scheduledTime","desc"),g(50)))]),a=e.docs.map(e=>({id:e.id,...e.data(),createdAt:e.data().createdAt?.toDate?.(),duration:e.data().duration||0,fileSize:e.data().fileSize||0})),r=t.docs.map(e=>({id:e.id,...e.data(),scheduledTime:e.data().scheduledTime?.toDate?.(),sessionEndTime:e.data().sessionEndTime?.toDate?.(),createdAt:e.data().createdAt?.toDate?.(),updatedAt:e.data().updatedAt?.toDate?.()}));K(a),W(r)}catch(e){const[t,a]=await Promise.all([c(o(m(s,"recordings"),g(50))),c(o(m(s,"sessions"),g(50)))]);K(t.docs.map(e=>({id:e.id,...e.data()}))),W(a.docs.map(e=>({id:e.id,...e.data()})))}},[]),we=l.useCallback(async()=>{try{const e=await n.getAllUsers();G(e)}catch(e){G([])}},[]),ve=l.useCallback(async()=>{try{const e=o(m(s,"courses"),h("createdAt","desc"),g(50)),t=(await c(e)).docs.map(e=>({id:e.id,...e.data(),createdAt:e.data().createdAt?.toDate?.(),updatedAt:e.data().updatedAt?.toDate?.()}));H(t)}catch(e){H([])}},[]),ke=l.useCallback(async()=>{try{const[e,t,a,r]=await Promise.all([u(m(s,"users")),u(m(s,"courses")),u(o(m(s,"recordings"),x("isPublished","==",!0))),u(o(m(s,"users"),x("isActive","==",!1)))]),l=q.reduce((e,s)=>e+(s.fileSize||0),0),i=q.reduce((e,s)=>e+(s.duration||0),0),d=new Date,n=Q.filter(e=>{const s=e.scheduledTime,t=e.sessionEndTime;return s&&t&&d>=s&&d<=t&&"live"===e.status}).length;te({totalUsers:e.data().count,activeSessions:n,totalCourses:t.data().count,totalRecordings:a.data().count,pendingUsers:r.data().count,storageUsed:l,totalDuration:i,meetSessions:Q.filter(e=>e.meetLink).length,recordedSessions:q.filter(e=>e.isPublished).length,upcomingSessions:Q.filter(e=>"scheduled"===e.status).length})}catch(e){const s=q.reduce((e,s)=>e+(s.fileSize||0),0),t=q.reduce((e,s)=>e+(s.duration||0),0),a=new Date,r=Q.filter(e=>{const s=e.scheduledTime,t=e.sessionEndTime;return s&&t&&a>=s&&a<=t&&"live"===e.status}).length;te({totalUsers:i.length,activeSessions:r,totalCourses:J.length,totalRecordings:q.length,pendingUsers:i.filter(e=>!e.isActive).length,storageUsed:s,totalDuration:t,meetSessions:Q.filter(e=>e.meetLink).length,recordedSessions:q.filter(e=>e.isPublished).length,upcomingSessions:Q.filter(e=>"scheduled"===e.status).length})}},[i,J,q,Q]),Se=l.useCallback(async()=>{try{const e=await Ce(i,J,q,Q);re(e.slice(0,5))}catch(e){re([])}},[i,J,q,Q]),Ce=l.useCallback(async(e,s,t,a=[])=>{const r=[],l=new Date;return e.slice(0,3).forEach((e,s)=>{const t=new Date(l.getTime()-2*(s+1)*60*60*1e3);r.push({id:`user-${e.id}`,type:"user_joined",userName:e.displayName||e.email,userEmail:e.email,timestamp:e.createdAt||t,message:`${e.displayName||e.email} joined the platform`})}),s.slice(0,2).forEach((e,s)=>{const t=new Date(l.getTime()-4*(s+1)*60*60*1e3);r.push({id:`course-${e.id}`,type:"course_created",userName:e.instructorName||"Instructor",courseName:e.title,timestamp:e.createdAt||t,message:`Course "${e.title}" was created`})}),a.slice(0,3).forEach((e,s)=>{const t=new Date(l.getTime()-3*(s+1)*60*60*1e3);r.push({id:`session-${e.id}`,type:"session_scheduled",userName:e.instructorName||e.createdBy||"System",sessionName:e.title||e.topic,timestamp:e.createdAt||t,message:`Session "${e.title||e.topic}" was scheduled`})}),t.slice(0,2).forEach((e,s)=>{const t=new Date(l.getTime()-6*(s+1)*60*60*1e3);r.push({id:`recording-${e.id}`,type:"recording_created",userName:e.instructorName||e.createdBy||"User",timestamp:e.createdAt||t,message:`New recording uploaded by ${e.instructorName||e.createdBy||"User"}`})}),r.sort((e,s)=>new Date(s.timestamp)-new Date(e.timestamp))},[]);l.useEffect(()=>{const e=Ae();return()=>e()},[]),l.useEffect(()=>{fe()},[fe]);const Ae=()=>{const e=[];try{const t=o(m(s,"users"),h("createdAt","desc"),g(20)),a=p(t,e=>{const s=e.docs.map(e=>({id:e.id,...e.data(),createdAt:e.data().createdAt?.toDate?.(),lastLogin:e.data().lastLogin?.toDate?.(),approvedAt:e.data().approvedAt?.toDate?.()}));G(s)},e=>{});e.push(a)}catch(t){}return()=>e.forEach(e=>e())},De=l.useCallback(async e=>{try{ie(null),oe(s=>({...s,[e]:!0})),await n.approveUser(e),await we()}catch(s){ie("Failed to approve user. Please try again.")}finally{oe(s=>({...s,[e]:!1}))}},[we]),Ue=l.useCallback(async e=>{try{ie(null),oe(s=>({...s,[e]:!0})),await n.deactivateUser(e,"Deactivated by admin"),await we()}catch(s){ie("Failed to deactivate user. Please try again.")}finally{oe(s=>({...s,[e]:!1}))}},[we]),Te=l.useCallback(async e=>{try{ie(null),oe(s=>({...s,[e]:!0})),await n.reactivateUser(e),await we()}catch(s){ie("Failed to reactivate user. Please try again.")}finally{oe(s=>({...s,[e]:!1}))}},[we]),Le=l.useCallback(async(e,s)=>{try{ie(null),oe(s=>({...s,[e]:!0})),await n.changeUserRole(e,s),await we()}catch(t){ie("Failed to change user role. Please try again.")}finally{oe(s=>({...s,[e]:!1}))}},[we]),$e=l.useCallback(async e=>{const s=prompt("Enter the Google Drive recording URL:");if(s)try{ie(null),oe(s=>({...s,[e]:!0})),await b.updateWithDriveRecording(e,{recordingUrl:s,duration:60,fileSize:250,isPublished:!0,status:"completed",recordingStatus:"available"}),await Ne()}catch(t){ie("Failed to add recording. Please try again.")}finally{oe(s=>({...s,[e]:!1}))}},[Ne]),Me=l.useCallback(()=>{fe()},[fe]),Re=()=>{window.open("https://console.firebase.google.com/project/_/firestore/indexes","_blank")},ze=()=>{const e={users:i.map(e=>({Name:e.displayName,Email:e.email,Role:e.role,Status:e.isActive?"Active":"Inactive","Joined Date":e.createdAt?.toLocaleDateString()})),sessions:Q.map(e=>({Title:e.title||e.topic,"Meet Link":e.meetLink||"N/A","Scheduled Time":e.scheduledTime?.toLocaleString(),Status:e.status,Instructor:e.instructorName||"Unknown"})),recordings:q.map(e=>({Title:e.title,"Drive Link":e.recordingUrl||"N/A",Duration:`${e.duration||0} minutes`,"File Size":`${e.fileSize||0} MB`,Status:e.isPublished?"Published":"Unpublished"}))},s=Object.entries(e).map(([e,s])=>{const t=Object.keys(s[0]||{}).join(","),a=s.map(e=>Object.values(e).join(","));return[`${e.toUpperCase()}\n${t}\n${a.join("\n")}`].join("\n")}).join("\n\n"),t=new Blob([s],{type:"text/csv"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`admin-export-${(new Date).toISOString().split("T")[0]}.csv`,r.click(),window.URL.revokeObjectURL(a)},Pe=l.useMemo(()=>i.filter(e=>{const s=e.displayName?.toLowerCase().includes(me.toLowerCase())||e.email?.toLowerCase().includes(me.toLowerCase())||e.role?.toLowerCase().includes(me.toLowerCase()),t="all"===he||"active"===he&&e.isActive||"pending"===he&&!e.isActive&&"pending"===e.approvalStatus||"inactive"===he&&"deactivated"===e.approvalStatus;return s&&t}),[i,me,he]),_e=l.useMemo(()=>[{name:"Total Users",value:se.totalUsers.toLocaleString(),icon:j,change:`${se.pendingUsers} pending`,changeType:se.pendingUsers>0?"warning":"positive",color:"from-purple-500 to-violet-600",bgColor:"from-purple-500/10 to-violet-600/10",description:"Total registered users",loading:Y},{name:"Active Sessions",value:se.activeSessions.toString(),icon:f,change:`${se.meetSessions} total sessions`,changeType:se.activeSessions>0?"positive":"neutral",color:"from-green-500 to-emerald-600",bgColor:"from-green-500/10 to-emerald-600/10",description:"Live sessions",loading:Y},{name:"Total Courses",value:se.totalCourses.toString(),icon:N,change:`${J.filter(e=>e.isPublished).length} published`,changeType:"neutral",color:"from-blue-500 to-cyan-600",bgColor:"from-blue-500/10 to-cyan-600/10",description:"Available courses",loading:Y},{name:"Available Recordings",value:se.recordedSessions.toString(),icon:w,change:`${se.upcomingSessions} upcoming sessions`,changeType:"neutral",color:"from-orange-500 to-red-600",bgColor:"from-orange-500/10 to-red-600/10",description:"Published recordings",loading:Y}],[se,J,Y]),Ee=l.useMemo(()=>[{title:"Manage Users",description:"View and manage all user accounts",icon:j,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-500/10 dark:bg-purple-500/20",action:()=>r("users")},{title:"Create Session",description:"Schedule new teaching session",icon:f,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-500/10 dark:bg-green-500/20",action:()=>pe(!0)},{title:"View Sessions",description:"Manage scheduled sessions",icon:v,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-500/10 dark:bg-blue-500/20",action:()=>r("sessions")}],[]),Be=e=>{switch(e){case"course_created":return"text-purple-600 dark:text-purple-400";case"user_joined":return"text-blue-600 dark:text-blue-400";case"recording_created":return"text-green-600 dark:text-green-400";case"session_scheduled":return"text-orange-600 dark:text-orange-400";default:return"text-gray-600 dark:text-gray-400"}},Fe=e=>e.message||`${e.userName} ${e.type.replace("_"," ")}`,Ie=l.useCallback(e=>{fe()},[fe]);return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center lg:text-left",children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-purple-600 via-violet-600 to-indigo-600 bg-clip-text text-transparent mb-2 sm:mb-3 break-words",children:"Admin Dashboard"}),t.jsx("p",{className:"text-base sm:text-lg text-gray-600 dark:text-gray-400 max-w-2xl",children:"Manage your platform and monitor teaching sessions"})]}),t.jsxs(d,{onClick:Me,variant:"outline",className:"hidden lg:flex items-center",children:[t.jsx(k,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]})}),t.jsx("div",{className:"glass-light dark:glass-dark backdrop-blur-lg rounded-xl sm:rounded-2xl border border-white/20 dark:border-gray-700/50 p-1 sm:p-2 shadow-depth-4",children:t.jsx("nav",{className:"flex space-x-1 sm:space-x-2 rtl:space-x-reverse overflow-x-auto",children:V.map(s=>t.jsx("button",{onClick:()=>r(s),className:"flex-1 lg:flex-none px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold transition-all duration-300 whitespace-nowrap "+(e===s?"bg-gradient-to-r from-purple-500 to-violet-600 text-white shadow-lg transform scale-105":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50/50 dark:hover:bg-gray-700/50"),children:s.charAt(0).toUpperCase()+s.slice(1)},s))})}),t.jsx("div",{className:"lg:hidden flex justify-center",children:t.jsxs(d,{onClick:Me,variant:"outline",className:"flex items-center w-full sm:w-auto justify-center",children:[t.jsx(k,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})}),t.jsx("div",{className:"animate-fade-in",children:(()=>{if(Z&&"dashboard"===e)return t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx(a,{size:"lg"})});switch(e){case"dashboard":return t.jsxs("div",{className:"space-y-6",children:[de&&t.jsx("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-2xl border border-yellow-200/50 dark:border-yellow-800/50 p-4 sm:p-6 shadow-depth-4",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(I,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5 mr-3 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm font-medium mb-2",children:"Firestore Index Required"}),t.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 text-sm mb-3",children:de}),t.jsxs("div",{className:"flex flex-col xs:flex-row gap-2",children:[t.jsx(d,{size:"sm",onClick:Re,className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white justify-center",children:"Create Index"}),t.jsx(d,{size:"sm",variant:"outline",onClick:()=>ne(null),className:"justify-center",children:"Dismiss"})]})]})]})}),le&&t.jsx("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-2xl border border-red-200/50 dark:border-red-800/50 p-4 sm:p-6 shadow-depth-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(E,{className:"h-5 w-5 text-red-500 mr-3 flex-shrink-0"}),t.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm flex-1",children:le}),t.jsx("button",{onClick:()=>ie(null),className:"ml-auto text-red-500 hover:text-red-700 flex-shrink-0",children:t.jsx(_,{className:"h-4 w-4"})})]})}),t.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:_e.map((e,s)=>{const a=e.icon;return t.jsxs("div",{className:"group relative overflow-hidden glass-light dark:glass-dark backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 p-4 sm:p-6 shadow-depth-4 hover:shadow-depth-5 transition-all duration-500 hover:scale-105 card-3d",style:{animationDelay:100*s+"ms"},children:[t.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-br ${e.bgColor} rounded-2xl`}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[t.jsx("div",{className:`p-2 sm:p-3 rounded-xl bg-gradient-to-br ${e.color} shadow-lg shadow-purple-500/25`,children:t.jsx(a,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),t.jsx("div",{className:"text-xs sm:text-sm font-semibold "+("positive"===e.changeType?"text-green-600 dark:text-green-400":"warning"===e.changeType?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400"),children:e.change})]}),e.loading?t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-6 sm:h-8 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),t.jsx("div",{className:"h-3 sm:h-4 bg-gray-200 dark:bg-gray-700 rounded"})]}):t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-1 sm:mb-2",children:e.value}),t.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e.name}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.description})]})]})]},e.name)})}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 p-4 sm:p-6 shadow-depth-4 hover:shadow-depth-5 transition-all duration-300 card-hover",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:"Quick Actions"}),t.jsx(B,{className:"h-5 w-5 text-yellow-500"})]}),t.jsx("div",{className:"space-y-3 sm:space-y-4",children:Ee.map((e,s)=>{const a=e.icon;return t.jsxs("button",{onClick:e.action,className:"w-full flex items-center p-3 sm:p-4 rounded-xl bg-gray-50/50 dark:bg-gray-700/50 backdrop-blur-sm border border-gray-200/50 dark:border-gray-600/50 hover:bg-white/80 dark:hover:bg-gray-600/80 hover:scale-105 transition-all duration-300 group hover-lift",style:{animationDelay:150*s+"ms"},children:[t.jsx("div",{className:`p-2 sm:p-3 rounded-lg ${e.bgColor} mr-3 sm:mr-4 group-hover:scale-110 transition-transform duration-300 flex-shrink-0`,children:t.jsx(a,{className:`h-4 w-4 sm:h-5 sm:w-5 ${e.color}`})}),t.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[t.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base truncate",children:e.title}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:e.description})]}),t.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex-shrink-0",children:t.jsx(D,{className:"h-4 w-4 text-gray-400"})})]},e.title)})})]}),t.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 p-4 sm:p-6 shadow-depth-4 hover:shadow-depth-5 transition-all duration-300 card-hover",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:"Recent Activity"}),t.jsx(F,{className:"h-5 w-5 text-blue-500"})]}),t.jsx("div",{className:"space-y-3 sm:space-y-4",children:ae.length>0?ae.map((e,s)=>{const a=(e=>{switch(e){case"course_created":return N;case"user_joined":return j;case"recording_created":return f;case"session_scheduled":return v;default:return B}})(e.type);return t.jsxs("div",{className:"flex items-center p-3 sm:p-4 rounded-xl bg-gray-50/50 dark:bg-gray-700/50 backdrop-blur-sm border border-gray-200/50 dark:border-gray-600/50 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-300 group",style:{animationDelay:100*s+"ms"},children:[t.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-gray-200/50 dark:bg-gray-600/50 mr-3 sm:mr-4 group-hover:scale-110 transition-transform duration-300 flex-shrink-0",children:t.jsx(a,{className:`h-4 w-4 sm:h-5 sm:w-5 ${Be(e.type)}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm text-gray-900 dark:text-white truncate",children:Fe(e)}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:be(e.timestamp)})]})]},e.id)}):t.jsxs("div",{className:"text-center py-6 sm:py-8",children:[t.jsx(B,{className:"mx-auto h-8 w-8 sm:h-12 sm:w-12 text-gray-400 mb-2 sm:mb-3"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs sm:text-sm",children:"No recent activities"})]})})]})]})]});case"users":return t.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 shadow-depth-4 overflow-hidden",children:[t.jsxs("div",{className:"px-4 sm:px-6 py-4 sm:py-5 border-b border-gray-200/50 dark:border-gray-700/50",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:"User Management"}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage all user accounts and permissions"})]}),t.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[t.jsxs(d,{onClick:Me,variant:"outline",className:"flex items-center justify-center text-xs sm:text-sm",children:[t.jsx(k,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Refresh"]}),t.jsxs(d,{className:"bg-gradient-to-r from-purple-500 to-violet-600 hover:from-purple-600 hover:to-violet-700 text-xs sm:text-sm justify-center",children:[t.jsx(D,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Invite User"]})]})]}),t.jsxs("div",{className:"mt-3 sm:mt-4 flex flex-col sm:flex-row gap-3",children:[t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("input",{type:"text",placeholder:"Search users by name, email, or role...",value:me,onChange:e=>xe(e.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-xl sm:rounded-2xl bg-white/50 dark:bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent backdrop-blur-sm text-sm"})}),t.jsxs("select",{value:he,onChange:e=>ge(e.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 dark:border-gray-600 rounded-xl sm:rounded-2xl bg-white/50 dark:bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent backdrop-blur-sm text-sm",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),t.jsx("div",{className:"p-4 sm:p-6",children:Z?t.jsx("div",{className:"flex justify-center items-center py-8 sm:py-12",children:t.jsx(a,{size:"lg"})}):Pe.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsx("div",{className:"min-w-full inline-block align-middle",children:t.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200/50 dark:divide-gray-700/50",children:[t.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-700/50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider",children:"Role"}),t.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-semibold text-gray-900 dark:text-white uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white/50 dark:bg-gray-800/50 divide-y divide-gray-200/50 dark:divide-gray-700/50",children:Pe.map((e,s)=>t.jsxs("tr",{className:"hover:bg-gray-50/80 dark:hover:bg-gray-700/80 transition-colors duration-200",children:[t.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-8 w-8 sm:h-10 sm:w-10",children:t.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-gradient-to-br from-purple-500 to-violet-600 flex items-center justify-center text-white text-xs sm:text-sm font-bold shadow-lg",children:e.displayName?.charAt(0)||e.email?.charAt(0)||"U"})}),t.jsxs("div",{className:"ml-2 sm:ml-3 min-w-0",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e.displayName||"No Name"}),t.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.email}),t.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Joined ",be(e.createdAt)]})]})]})}),t.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:t.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(e.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"pending"===e.approvalStatus?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:e.isActive?"Active":e.approvalStatus||"Inactive"})}),t.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:t.jsxs("select",{value:e.role,onChange:s=>Le(e.id,s.target.value),disabled:ce[e.id],className:"text-xs font-medium capitalize rounded-lg sm:rounded-xl px-2 py-1 sm:px-3 sm:py-2 border focus:outline-none focus:ring-2 focus:ring-purple-500 backdrop-blur-sm "+("admin"===e.role?"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":"teacher"===e.role?"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800":"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800"),children:[t.jsx("option",{value:"student",children:"Student"}),t.jsx("option",{value:"teacher",children:"Teacher"}),t.jsx("option",{value:"admin",children:"Admin"})]})}),t.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-sm font-medium",children:t.jsx("div",{className:"flex space-x-1 sm:space-x-2",children:e.isActive||"pending"!==e.approvalStatus?e.isActive?t.jsxs(d,{variant:"outline",size:"sm",onClick:()=>Ue(e.id),disabled:ce[e.id],className:"border-red-300 text-red-700 hover:bg-red-50 dark:border-red-700 dark:text-red-400 dark:hover:bg-red-900/20 text-xs",children:[ce[e.id]?t.jsx(k,{className:"h-3 w-3 animate-spin"}):t.jsx(_,{className:"h-3 w-3"}),t.jsx("span",{className:"ml-1 hidden xs:inline",children:"Deactivate"})]}):t.jsxs(d,{size:"sm",onClick:()=>Te(e.id),disabled:ce[e.id],className:"bg-gradient-to-r from-purple-500 to-violet-500 hover:from-purple-600 hover:to-violet-600 text-xs",children:[ce[e.id]?t.jsx(k,{className:"h-3 w-3 animate-spin"}):t.jsx(k,{className:"h-3 w-3"}),t.jsx("span",{className:"ml-1 hidden xs:inline",children:"Reactivate"})]}):t.jsxs(d,{size:"sm",onClick:()=>De(e.id),disabled:ce[e.id],className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-xs",children:[ce[e.id]?t.jsx(k,{className:"h-3 w-3 animate-spin"}):t.jsx(P,{className:"h-3 w-3"}),t.jsx("span",{className:"ml-1 hidden xs:inline",children:"Approve"})]})})})]},e.id))})]})})})}):t.jsxs("div",{className:"text-center py-8 sm:py-12",children:[t.jsx(j,{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mb-3 sm:mb-4"}),t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Users Found"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 sm:mb-6 text-sm",children:"There are no users matching your criteria."}),t.jsxs(d,{onClick:()=>{xe(""),ge("all")},className:"bg-gradient-to-r from-purple-500 to-violet-600 hover:from-purple-600 hover:to-violet-700 text-sm",children:[t.jsx(k,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})})]});case"courses":return t.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 shadow-depth-4 overflow-hidden",children:[t.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-5 border-b border-gray-200/50 dark:border-gray-700/50",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:"Course Management"}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage all courses and content"})]}),t.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[t.jsxs(d,{onClick:Me,variant:"outline",className:"flex items-center justify-center text-xs sm:text-sm",children:[t.jsx(k,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Refresh"]}),t.jsxs(d,{className:"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-xs sm:text-sm justify-center",children:[t.jsx(D,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Create Course"]})]})]})}),t.jsx("div",{className:"p-4 sm:p-6",children:Z?t.jsx("div",{className:"flex justify-center items-center py-8 sm:py-12",children:t.jsx(a,{size:"lg"})}):J.length>0?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:J.map((e,s)=>t.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-sm rounded-xl sm:rounded-2xl border border-white/20 dark:border-gray-700/50 p-4 sm:p-6 hover:shadow-depth-4 transition-all duration-300 group hover:scale-105 card-3d",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg sm:rounded-xl",children:t.jsx(N,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm line-clamp-1",children:e.title}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.instructorName||"Unknown Instructor"})]})]}),t.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(e.isPublished?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"),children:e.isPublished?"Published":"Draft"})]}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 sm:mb-4 line-clamp-2",children:e.description||"No description available"}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[t.jsxs("span",{children:[e.studentsCount||0," students"]}),t.jsx("span",{children:be(e.createdAt)})]}),t.jsxs("div",{className:"mt-3 sm:mt-4 flex space-x-2",children:[t.jsxs(d,{size:"sm",variant:"outline",className:"flex-1 text-xs",children:[t.jsx(R,{className:"h-3 w-3 mr-1"}),"View"]}),t.jsx(d,{size:"sm",variant:"outline",className:"text-xs",children:t.jsx(z,{className:"h-3 w-3"})})]})]},e.id))}):t.jsxs("div",{className:"text-center py-8 sm:py-12",children:[t.jsx(N,{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mb-3 sm:mb-4"}),t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Courses Found"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 sm:mb-6 text-sm",children:"There are no courses in the system yet."}),t.jsxs(d,{className:"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-sm",children:[t.jsx(D,{className:"h-4 w-4 mr-2"}),"Create Course"]})]})})]});case"sessions":return t.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 shadow-depth-4 overflow-hidden",children:[t.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-5 border-b border-gray-200/50 dark:border-gray-700/50",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:"Teaching Sessions"}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage teaching sessions and recordings"})]}),t.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[t.jsxs(d,{onClick:Me,variant:"outline",className:"flex items-center justify-center text-xs sm:text-sm",children:[t.jsx(k,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Refresh"]}),t.jsxs(d,{onClick:()=>pe(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-xs sm:text-sm justify-center",children:[t.jsx(D,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Schedule Session"]})]})]})}),t.jsx("div",{className:"p-4 sm:p-6",children:Z?t.jsx("div",{className:"flex justify-center items-center py-8 sm:py-12",children:t.jsx(a,{size:"lg"})}):Q.length>0?t.jsx("div",{className:"space-y-4",children:Q.map((e,s)=>{const a="live"===e.status,r="scheduled"===e.status,l="available"===e.recordingStatus,i=e.meetLink;return t.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-sm rounded-xl sm:rounded-2xl border border-white/20 dark:border-gray-700/50 p-4 sm:p-6 hover:shadow-depth-4 transition-all duration-300 group hover:scale-105 card-3d",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[t.jsx("div",{className:"p-2 rounded-lg sm:rounded-xl "+(a?"bg-red-100 dark:bg-red-900/30":l?"bg-green-100 dark:bg-green-900/30":i?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-900/30"),children:i?t.jsx(U,{className:"h-4 w-4 sm:h-5 sm:w-5 "+(a?"text-red-600 dark:text-red-400":l?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400")}):t.jsx(f,{className:"h-4 w-4 sm:h-5 sm:w-5 "+(a?"text-red-600 dark:text-red-400":l?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400")})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:e.title||e.topic}),t.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-1",children:[e.description,e.instructorName&&` • ${e.instructorName}`]})]})]}),t.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(a?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":r?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":l?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"),children:a?"Live Now":r?"Upcoming":l?"Recorded":"Completed"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4 text-xs sm:text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(L,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 flex-shrink-0"}),t.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate",children:e.scheduledTime?e.scheduledTime.toLocaleDateString():"No date"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(v,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 flex-shrink-0"}),t.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate",children:e.scheduledTime?e.scheduledTime.toLocaleTimeString():"No time"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx($,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 flex-shrink-0"}),t.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate",children:e.instructorName||"Unknown"})]})]}),e.meetLink&&t.jsxs("div",{className:"mt-2 sm:mt-3 flex items-center space-x-2 text-xs sm:text-sm",children:[t.jsx(M,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 flex-shrink-0"}),t.jsx("a",{href:e.meetLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline truncate",children:e.meetLink})]}),t.jsxs("div",{className:"mt-3 sm:mt-4 flex flex-col xs:flex-row gap-2",children:[a&&e.meetLink&&t.jsx("a",{href:e.meetLink,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:t.jsxs(d,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white w-full text-xs",children:[t.jsx(f,{className:"h-3 w-3 mr-1"}),"Join Live"]})}),!l&&!a&&!r&&e.meetLink&&t.jsxs(d,{size:"sm",onClick:()=>$e(e.id),disabled:ce[e.id],className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-xs",children:[ce[e.id]?t.jsx(k,{className:"h-3 w-3 animate-spin"}):t.jsx(T,{className:"h-3 w-3"}),t.jsx("span",{className:"ml-1",children:"Add Recording"})]}),l&&e.recordingUrl&&t.jsx("a",{href:e.recordingUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:t.jsxs(d,{size:"sm",variant:"outline",className:"w-full text-xs",children:[t.jsx(R,{className:"h-3 w-3 mr-1"}),"View Recording"]})}),t.jsx(d,{size:"sm",variant:"outline",className:"text-xs",children:t.jsx(z,{className:"h-3 w-3"})})]})]},e.id)})}):t.jsxs("div",{className:"text-center py-8 sm:py-12",children:[t.jsx(U,{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mb-3 sm:mb-4"}),t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Sessions Found"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 sm:mb-6 text-sm",children:"There are no teaching sessions scheduled or live."}),t.jsxs(d,{onClick:()=>pe(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-sm",children:[t.jsx(D,{className:"h-4 w-4 mr-2"}),"Schedule Session"]})]})})]});case"analytics":return t.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 shadow-depth-4 overflow-hidden",children:[t.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-5 border-b border-gray-200/50 dark:border-gray-700/50",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-white",children:"Platform Analytics"}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Detailed insights and platform metrics"})]}),t.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[t.jsxs(d,{onClick:Me,variant:"outline",className:"flex items-center justify-center text-xs sm:text-sm",children:[t.jsx(k,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Refresh"]}),t.jsxs(d,{onClick:ze,className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-xs sm:text-sm justify-center",children:[t.jsx(S,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Export Data"]})]})]})}),t.jsx("div",{className:"p-4 sm:p-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-sm rounded-xl sm:rounded-2xl border border-white/20 dark:border-gray-700/50 p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[t.jsx(C,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-500"}),t.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:"Platform Overview"})]}),t.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Total Storage Used"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-white",children:ye(1024*se.storageUsed*1024)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Active Users (Last 30 days)"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-white",children:i.filter(e=>e.lastLogin&&new Date-new Date(e.lastLogin)<2592e6).length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Total Recording Duration"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-white",children:je(60*se.totalDuration)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Teaching Sessions"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-blue-600 dark:text-blue-400",children:se.meetSessions})]})]})]}),t.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-sm rounded-xl sm:rounded-2xl border border-white/20 dark:border-gray-700/50 p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[t.jsx(j,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-500"}),t.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:"User Distribution"})]}),t.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Students"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-green-600 dark:text-green-400",children:i.filter(e=>"student"===e.role).length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Teachers"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-blue-600 dark:text-blue-400",children:i.filter(e=>"teacher"===e.role).length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Admins"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-red-600 dark:text-red-400",children:i.filter(e=>"admin"===e.role).length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Pending Approval"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-yellow-600 dark:text-yellow-400",children:i.filter(e=>!e.isActive&&"pending"===e.approvalStatus).length})]})]})]}),t.jsxs("div",{className:"glass-light dark:glass-dark backdrop-blur-sm rounded-xl sm:rounded-2xl border border-white/20 dark:border-gray-700/50 p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[t.jsx(w,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500"}),t.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:"Session Statistics"})]}),t.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Total Sessions"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-white",children:Q.length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Recorded Sessions"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-green-600 dark:text-green-400",children:se.recordedSessions})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Upcoming Sessions"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-blue-600 dark:text-blue-400",children:se.upcomingSessions})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Google Meet Integration"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold text-purple-600 dark:text-purple-400",children:se.meetSessions>0?"Active":"Inactive"})]})]})]}),t.jsxs("div",{className:"lg:col-span-2 glass-light dark:glass-dark backdrop-blur-sm rounded-xl sm:rounded-2xl border border-white/20 dark:border-gray-700/50 p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[t.jsx(A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-500"}),t.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:"Recent Recordings"})]}),t.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[q.slice(0,5).map((e,s)=>t.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 rounded-lg sm:rounded-xl bg-gray-50/50 dark:bg-gray-700/50 hover:bg-gray-100/50 dark:hover:bg-gray-600/50 transition-colors duration-200",children:[t.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0",children:[t.jsx(A,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400 flex-shrink-0"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white truncate",children:e.title||"Untitled Recording"}),t.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[e.instructorName||e.createdBy," • ",be(e.createdAt),e.meetLink&&" • Google Meet"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:[t.jsxs("span",{children:[e.duration||0," min"]}),t.jsx("span",{children:ye(1024*(e.fileSize||0)*1024)})]})]},e.id)),0===q.length&&t.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm",children:"No recordings available"})]})]})]})})]});default:return t.jsx("div",{className:"glass-light dark:glass-dark backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 p-6 sm:p-8 shadow-depth-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Coming Soon"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"This section is under development."})]})})}})()}),ue&&t.jsx(l.Suspense,{fallback:t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:t.jsx(a,{})}),children:t.jsx(O,{onClose:()=>pe(!1),onSuccess:Ie})})]})});export{G as default};
