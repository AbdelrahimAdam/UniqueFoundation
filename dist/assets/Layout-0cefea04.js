import{e,r,j as a,ab as s,K as t,ac as d,ad as i,ae as o,af as l,U as n,S as c,ag as b,b as g,u as x,ah as u,l as m,m as h,V as p,n as y,F as k,p as f,ai as v,T as w,a7 as j,aj as N,X as C,J as M,ak as _,al as z,am as $}from"./vendor-react-b59152ff.js";import{u as S}from"./index-cde8ec3e.js";import{B as E}from"./Button-d86c7bdc.js";import"./vendor-c2e5c299.js";import"./firebase-a4f86f3d.js";import"./i18n-417c627b.js";const L=({onMenuClick:g,isDarkMode:x,toggleDarkMode:u})=>{var m,h;const{t:p,i18n:y}=e(),{user:k,logout:f,userRole:v}=S(),[w,j]=r.useState(!1),[N,C]=r.useState(!1),M=r.useRef(null),_=r.useRef(null);r.useEffect(()=>{const e=e=>{M.current&&!M.current.contains(e.target)&&j(!1),_.current&&!_.current.contains(e.target)&&C(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const z=e=>{switch(e){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"teacher":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"student":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return a.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border-b border-white/20 dark:border-gray-700/50 sticky top-0 z-40 transition-all duration-300",children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[a.jsx("button",{onClick:g,className:"lg:hidden p-2 rounded-lg bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg",children:a.jsx(s,{size:20})}),a.jsxs("div",{className:"hidden md:block relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(t,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",placeholder:p("common.search"),className:"pl-10 pr-4 py-2 w-64 bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[a.jsx(E,{variant:"ghost",size:"sm",onClick:()=>{const e="en"===y.language?"ar":"en";y.changeLanguage(e),document.documentElement.dir="ar"===e?"rtl":"ltr"},className:"hidden sm:flex items-center space-x-2 rtl:space-x-reverse px-3 py-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105",children:a.jsx("span",{className:"text-sm font-medium",children:"en"===y.language?"العربية":"English"})}),a.jsx("button",{onClick:u,className:"p-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg",children:x?a.jsx(d,{size:18}):a.jsx(i,{size:18})}),a.jsxs("div",{className:"relative",ref:_,children:[a.jsxs("button",{onClick:()=>C(!N),className:"p-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg relative",children:[a.jsx(o,{size:18}),a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"})]}),N&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 dark:border-gray-700/50 py-2 z-50 transform origin-top-right transition-all duration-200 scale-95 hover:scale-100",children:[a.jsx("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:p("notifications.title")})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:a.jsx("div",{className:"px-4 py-3 text-center text-gray-500 dark:text-gray-400",children:p("notifications.noNotifications")})})]})]}),a.jsxs("div",{className:"relative",ref:M,children:[a.jsxs("button",{onClick:()=>j(!w),className:"flex items-center space-x-3 rtl:space-x-reverse p-2 rounded-xl bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border border-white/20 dark:border-gray-600/50 text-gray-600 dark:text-gray-300 hover:bg-white/80 dark:hover:bg-gray-600/80 transition-all duration-200 hover:scale-105 hover:shadow-lg group",children:[a.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold",children:(null==(m=null==k?void 0:k.displayName)?void 0:m.charAt(0))||(null==(h=null==k?void 0:k.email)?void 0:h.charAt(0))||"U"}),a.jsxs("div",{className:"hidden sm:block text-left rtl:text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate max-w-32",children:(null==k?void 0:k.displayName)||(null==k?void 0:k.email)}),a.jsx("p",{className:`text-xs px-2 py-0.5 rounded-full ${z(v)}`,children:v})]})]}),a.jsx(l,{size:16,className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-transform duration-200"})]}),w&&a.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 dark:border-gray-700/50 py-2 z-50 transform origin-top-right transition-all duration-200 scale-95 hover:scale-100",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:(null==k?void 0:k.displayName)||"User"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:null==k?void 0:k.email}),a.jsx("p",{className:`text-xs px-2 py-1 rounded-full inline-block mt-1 ${z(v)}`,children:v})]}),a.jsxs("button",{onClick:()=>window.location.href="/profile",className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150",children:[a.jsx(n,{size:16,className:"mr-3 rtl:mr-0 rtl:ml-3"}),p("user.profile")]}),a.jsxs("button",{onClick:()=>window.location.href="/profile?tab=settings",className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150",children:[a.jsx(c,{size:16,className:"mr-3 rtl:mr-0 rtl:ml-3"}),p("user.settings")]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),a.jsxs("button",{onClick:async()=>{try{await f()}catch(e){}},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-150",children:[a.jsx(b,{size:16,className:"mr-3 rtl:mr-0 rtl:ml-3"}),p("auth.logout")]})]})]})]})]})})})},U=({isOpen:s,onClose:t,userRole:l="student"})=>{var c;const{t:E,i18n:L}=e(),{user:U,logout:D,userProfile:R}=S(),G=g(),A=x(),P="ar"===L.language,[T,I]=r.useState(!1);r.useEffect(()=>{const e="dark"===localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches;I(e)},[]);const O={admin:[{id:"dashboard",label:E("sidebar.dashboard","Dashboard"),icon:u,path:"/admin/dashboard",description:E("sidebar.dashboard_desc","Overview and statistics")},{id:"users",label:E("sidebar.users","User Management"),icon:m,path:"/admin/users",description:E("sidebar.users_desc","Manage all users and permissions")},{id:"courses",label:E("sidebar.courses","Course Management"),icon:h,path:"/admin/courses",description:E("sidebar.courses_desc","Manage courses and content")},{id:"sessions",label:E("sidebar.sessions","Session Management"),icon:p,path:"/admin/sessions",description:E("sidebar.sessions_desc","Google Meet sessions monitoring")},{id:"analytics",label:E("sidebar.analytics","Analytics"),icon:y,path:"/admin/analytics",description:E("sidebar.analytics_desc","Platform insights and metrics")},{id:"reports",label:E("sidebar.reports","Reports"),icon:k,path:"/admin/reports",description:E("sidebar.reports_desc","System reports and exports")}],teacher:[{id:"dashboard",label:E("sidebar.dashboard","Dashboard"),icon:u,path:"/teacher/dashboard",description:E("sidebar.dashboard_desc","Teaching overview and insights")},{id:"recordings",label:E("sidebar.recordings","My Recordings"),icon:p,path:"/teacher/recordings",description:E("sidebar.recordings_desc","Manage your class recordings")},{id:"sessions",label:E("sidebar.sessions","My Sessions"),icon:f,path:"/teacher/sessions",description:E("sidebar.sessions_desc","Schedule and manage sessions")},{id:"students",label:E("sidebar.students","Students"),icon:m,path:"/teacher/students",description:E("sidebar.students_desc","Manage your students")},{id:"my-courses",label:E("sidebar.my_courses","My Courses"),icon:h,path:"/teacher/my-courses",description:E("sidebar.my_courses_desc","Your teaching courses")},{id:"analytics",label:E("sidebar.analytics","Analytics"),icon:y,path:"/teacher/analytics",description:E("sidebar.analytics_desc","Teaching performance insights")},{id:"messages",label:E("sidebar.messages","Messages"),icon:v,path:"/teacher/messages",description:E("sidebar.messages_desc","Communicate with students")}],student:[{id:"dashboard",label:E("sidebar.dashboard","Dashboard"),icon:u,path:"/student/dashboard",description:E("sidebar.dashboard_desc","Learning overview and progress")},{id:"sessions",label:E("sidebar.sessions","Learning Sessions"),icon:f,path:"/student/sessions",description:E("sidebar.sessions_desc","Join live sessions and classes")},{id:"recordings",label:E("sidebar.recordings","Recordings"),icon:p,path:"/student/recordings",description:E("sidebar.recordings_desc","Watch recorded sessions")},{id:"courses",label:E("sidebar.courses","Browse Courses"),icon:h,path:"/student/courses",description:E("sidebar.courses_desc","Discover and enroll in courses")},{id:"my-courses",label:E("sidebar.my_courses","My Courses"),icon:h,path:"/student/my-courses",description:E("sidebar.my_courses_desc","Your enrolled courses")},{id:"progress",label:E("sidebar.progress","Progress"),icon:w,path:"/student/progress",description:E("sidebar.progress_desc","Track your learning progress")},{id:"teachers",label:E("sidebar.teachers","Teachers"),icon:m,path:"/student/teachers",description:E("sidebar.teachers_desc","View available teachers")}]},B=[{id:"notifications",label:E("sidebar.notifications","Notifications"),icon:o,path:"/notifications",description:E("sidebar.notifications_desc","View your notifications")},{id:"messages",label:E("sidebar.messages","Messages"),icon:j,path:"/messages",description:E("sidebar.messages_desc","Check your messages")},{id:"profile",label:E("sidebar.profile","Profile"),icon:n,path:"/profile",description:E("sidebar.profile_desc","Manage your profile settings")},{id:"help",label:E("sidebar.help","Help & Support"),icon:N,path:"/help",description:E("sidebar.help_desc","Get help and support")}],F=O[l]||[],V=e=>{A(e),null==t||t()},q=e=>G.pathname===e||G.pathname.startsWith(e+"/"),J=(()=>{switch(l){case"admin":return $;case"teacher":return z;case"student":return _;default:return n}})(),W=(()=>{switch(l){case"admin":return{gradient:"from-purple-500 to-violet-600",bgGradient:"from-purple-500/15 to-violet-600/15",text:"text-purple-700 dark:text-purple-300",bg:"bg-purple-100/80 dark:bg-purple-900/40",border:"border-purple-200/50 dark:border-purple-700/50"};case"teacher":return{gradient:"from-blue-500 to-cyan-600",bgGradient:"from-blue-500/15 to-cyan-600/15",text:"text-blue-700 dark:text-blue-300",bg:"bg-blue-100/80 dark:bg-blue-900/40",border:"border-blue-200/50 dark:border-blue-700/50"};case"student":return{gradient:"from-green-500 to-emerald-600",bgGradient:"from-green-500/15 to-emerald-600/15",text:"text-green-700 dark:text-green-300",bg:"bg-green-100/80 dark:bg-green-900/40",border:"border-green-200/50 dark:border-green-700/50"};default:return{gradient:"from-gray-500 to-gray-600",bgGradient:"from-gray-500/15 to-gray-600/15",text:"text-gray-700 dark:text-gray-300",bg:"bg-gray-100/80 dark:bg-gray-900/40",border:"border-gray-200/50 dark:border-gray-700/50"}}})();return a.jsxs("div",{className:`\n      fixed inset-y-0 left-0 z-50 w-80 \n      bg-white/85 dark:bg-gray-900/85 backdrop-blur-2xl\n      border-r border-white/40 dark:border-gray-700/40\n      shadow-2xl shadow-black/10 dark:shadow-black/30\n      transform transition-transform duration-300 ease-in-out\n      lg:translate-x-0 lg:static lg:inset-0\n      ${P?"right-0 left-auto":""}\n      ${s?"translate-x-0":"-translate-x-full"}\n      flex flex-col h-screen\n    `,children:[a.jsxs("div",{className:"flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between h-20 px-6 border-b border-white/30 dark:border-gray-700/30",children:[a.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg backdrop-blur-sm overflow-hidden",children:a.jsx("img",{src:"/logo.png",alt:"Unique Foundation Logo",className:"w-full h-full rounded-full object-cover"})}),a.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-400 border-2 border-white dark:border-gray-900 rounded-full shadow-sm"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Unique Foundation"}),a.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:[l," Portal"]})]})]}),a.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-xl bg-white/50 dark:bg-gray-800/50 hover:bg-white/70 dark:hover:bg-gray-700/70 transition-colors duration-200 backdrop-blur-sm","aria-label":"Close sidebar",children:a.jsx(C,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),a.jsx("div",{className:"p-6 border-b border-white/30 dark:border-gray-700/30",children:a.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${W.gradient} rounded-2xl flex items-center justify-center text-white font-bold text-lg shadow-xl backdrop-blur-sm`,children:(null==U?void 0:U.displayName)?U.displayName.charAt(0).toUpperCase():(null==U?void 0:U.email)?U.email.charAt(0).toUpperCase():"U"}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 bg-gradient-to-br ${W.gradient} rounded-full flex items-center justify-center border-2 border-white dark:border-gray-900 shadow-sm backdrop-blur-sm`,children:a.jsx(J,{size:12,className:"text-white"})})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate text-base",children:(null==U?void 0:U.displayName)||(null==U?void 0:U.email)||"User"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:(null==U?void 0:U.email)||"user@example.com"}),a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium capitalize backdrop-blur-sm ${W.bg} ${W.text} border ${W.border}`,children:l}),"premium"===(null==(c=null==R?void 0:R.subscription)?void 0:c.plan)&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-sm backdrop-blur-sm",children:[a.jsx(M,{className:"h-3 w-3 mr-1"}),"Premium"]})]})]})]})})]}),a.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsxs("nav",{className:"px-4 py-6 space-y-2",children:[a.jsx("p",{className:"px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider mb-2 backdrop-blur-sm",children:"Main Menu"}),F.map(e=>{const r=e.icon,s=q(e.path);return a.jsxs("button",{onClick:()=>V(e.path),className:"group relative flex items-center w-full px-4 py-4 text-left rtl:text-right rounded-2xl transition-all duration-300 backdrop-blur-sm "+(s?`${W.bg} ${W.text} border ${W.border} shadow-lg`:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-800/50 hover:shadow-md border border-transparent"),children:[s&&a.jsx("div",{className:`absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-gradient-to-b ${W.gradient} rounded-r-full shadow-sm`}),a.jsx("div",{className:"p-2 rounded-xl transition-all duration-300 backdrop-blur-sm "+(s?`bg-gradient-to-br ${W.gradient} shadow-lg`:"bg-white/50 dark:bg-gray-800/50 group-hover:bg-white/70 dark:group-hover:bg-gray-700/50"),children:a.jsx(r,{size:20,className:s?"text-white":"text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-200"})}),a.jsxs("div",{className:(P?"mr-3":"ml-3")+" flex-1 min-w-0",children:[a.jsx("span",{className:"font-medium block text-sm truncate",children:e.label}),a.jsx("span",{className:"text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-gray-600 dark:text-gray-400 truncate",children:e.description})]})]},e.id)})]}),a.jsxs("div",{className:"px-4 py-6 border-t border-white/30 dark:border-gray-700/30",children:[a.jsx("p",{className:"px-4 text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider mb-2 backdrop-blur-sm",children:"General"}),a.jsx("div",{className:"space-y-2",children:B.map(e=>{const r=e.icon,s=q(e.path);return a.jsxs("button",{onClick:()=>V(e.path),className:"group relative flex items-center w-full px-4 py-3 text-left rtl:text-right rounded-xl transition-all duration-300 backdrop-blur-sm "+(s?`${W.bg} ${W.text} border ${W.border} shadow-md`:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-white/50 dark:hover:bg-gray-800/50 border border-transparent"),children:[a.jsx(r,{size:18,className:s?W.text:"text-gray-600 dark:text-gray-400 group-hover:text-gray-800 dark:group-hover:text-gray-200"}),a.jsx("span",{className:(P?"mr-3":"ml-3")+" font-medium text-sm flex-1 text-left",children:e.label}),("notifications"===e.id||"messages"===e.id)&&a.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-red-500 text-white rounded-full min-w-[20px] text-center backdrop-blur-sm shadow-sm",children:"3"})]},e.id)})})]})]})}),a.jsx("div",{className:"flex-shrink-0",children:a.jsxs("div",{className:"p-4 space-y-2 border-t border-white/30 dark:border-gray-700/30 bg-white/40 dark:bg-gray-800/40 backdrop-blur-sm",children:[a.jsxs("button",{onClick:()=>{const e=!T;I(e),localStorage.setItem("theme",e?"dark":"light"),document.documentElement.classList.toggle("dark",e)},className:"flex items-center w-full px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded-xl transition-all duration-300 hover:bg-white/50 dark:hover:bg-gray-700/50 group backdrop-blur-sm",children:[T?a.jsx(d,{size:18,className:(P?"ml-3":"mr-3")+" group-hover:text-yellow-500 transition-colors"}):a.jsx(i,{size:18,className:(P?"ml-3":"mr-3")+" group-hover:text-blue-500 transition-colors"}),a.jsx("span",{className:"font-medium text-sm flex-1 text-left",children:T?E("sidebar.lightMode","Light Mode"):E("sidebar.darkMode","Dark Mode")})]}),a.jsxs("button",{onClick:async()=>{try{await D(),A("/login")}catch(e){}},className:"flex items-center w-full px-4 py-3 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 rounded-xl transition-all duration-300 hover:bg-red-50/50 dark:hover:bg-red-900/20 group backdrop-blur-sm",children:[a.jsx(b,{size:18,className:(P?"ml-3":"mr-3")+" group-hover:scale-105 transition-transform"}),a.jsx("span",{className:"font-medium text-sm flex-1 text-left",children:E("sidebar.logout","Logout")})]}),a.jsx("div",{className:"pt-2 border-t border-white/30 dark:border-gray-700/30",children:a.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"v2.0.0"}),a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600 dark:text-green-400",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{children:"Online"})]})]})})]})})]})},D=({children:e,role:s="student"})=>{const[t,d]=r.useState(!1),[i,o]=r.useState(!1);r.useEffect(()=>{(()=>{const e=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches,a="dark"===e||!e&&r;d(a),document.documentElement.classList.toggle("dark",a)})()},[]);const l=r.useCallback(()=>{const e=!t;d(e),document.documentElement.classList.toggle("dark",e),localStorage.setItem("theme",e?"dark":"light")},[t]),n=r.useCallback(()=>{o(!1)},[]),c=r.useCallback(()=>{o(e=>!e)},[]);r.useEffect(()=>{const e=e=>{"Escape"===e.key&&i&&n()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i,n]);const b=r.useCallback(e=>{e.target===e.currentTarget&&n()},[n]);return a.jsxs("div",{className:`min-h-screen ${(()=>{switch(s){case"admin":return"bg-gradient-to-br from-purple-50 to-indigo-100 dark:from-gray-900 dark:to-purple-900";case"teacher":return"bg-gradient-to-br from-blue-50 to-cyan-100 dark:from-gray-900 dark:to-blue-900";case"student":return"bg-gradient-to-br from-green-50 to-emerald-100 dark:from-gray-900 dark:to-green-900";default:return"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800"}})()} transition-colors duration-300`,children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-200 dark:bg-blue-900 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-200 dark:bg-purple-900 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-20 animate-pulse delay-1000"}),a.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-pink-200 dark:bg-pink-900 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-20 animate-pulse delay-500"})]}),a.jsxs("div",{className:"relative z-10 flex h-screen overflow-hidden",children:[i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden transition-opacity duration-300",onClick:b,"aria-hidden":"true"}),a.jsx("aside",{className:`\n            fixed inset-y-0 left-0 z-50 w-80 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl\n            border-r border-white/20 dark:border-gray-700/50 shadow-2xl\n            transform transition-transform duration-300 ease-in-out\n            lg:translate-x-0 lg:static lg:inset-auto\n            ${i?"translate-x-0":"-translate-x-full"}\n          `,"aria-label":"Sidebar navigation",children:a.jsx(U,{isOpen:i,onClose:n,userRole:s})}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-0 overflow-hidden",children:[a.jsx(L,{onMenuClick:c,isDarkMode:t,toggleDarkMode:l,userRole:s}),a.jsx("main",{className:"flex-1 overflow-auto p-4 lg:p-6 transition-all duration-300",children:a.jsx("div",{className:"max-w-7xl mx-auto w-full",children:e})})]})]})]})};export{D as default};
