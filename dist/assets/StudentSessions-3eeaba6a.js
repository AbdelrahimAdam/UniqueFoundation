import{u as e,j as s,L as r}from"./index-ce15b861.js";import{r as t}from"./vendor-0a74ad82.js";import"./firebase-383b8577.js";import{s as a}from"./sessionService-b3fdcd6e.js";import{B as l}from"./Button-fb358952.js";import{u as d}from"./useTranslation-9d3f62b5.js";import{R as i}from"./refresh-cw-c5a59bfc.js";import{C as n}from"./calendar-9dea7464.js";import{P as m}from"./play-circle-8e2c3fb1.js";import{C as x}from"./check-circle-dac5ac57.js";import{S as c}from"./search-e15913c7.js";import{F as o}from"./filter-0e023312.js";import{U as g}from"./users-1bfd9ab7.js";import{C as h}from"./clock-5d166213.js";import{V as u}from"./video-63348c6e.js";import"./router-80e9042b.js";const p=()=>{d();const{user:p}=e(),[f,b]=t.useState([]),[j,w]=t.useState(!0),[N,y]=t.useState(!1),[k,v]=t.useState(""),[L,C]=t.useState("all"),S=p?.uid;t.useEffect(()=>{S&&T()},[S]);const T=async(e=!1)=>{try{e?y(!0):w(!0);const s=await a.getPublicSessions();b(s)}catch(s){}finally{w(!1),y(!1)}},R=f.filter(e=>{const s=e.title?.toLowerCase().includes(k.toLowerCase())||e.topic?.toLowerCase().includes(k.toLowerCase())||e.description?.toLowerCase().includes(k.toLowerCase())||e.instructorName?.toLowerCase().includes(k.toLowerCase()),r="all"===L||e.status===L;return s&&r}),D=e=>{switch(e){case"scheduled":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"live":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},U={upcoming:f.filter(e=>"scheduled"===e.status).length,live:f.filter(e=>"live"===e.status).length,completed:f.filter(e=>"completed"===e.status).length};return j?s.jsx("div",{className:"flex items-center justify-center min-h-96",children:s.jsx(r,{size:"lg"})}):s.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white break-words",children:"Learning Sessions"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 text-sm sm:text-base",children:"Join live sessions and access recordings"})]}),s.jsxs(l,{onClick:()=>T(!0),variant:"outline",disabled:N,className:"w-full sm:w-auto justify-center text-sm",children:[s.jsx(i,{className:"h-4 w-4 mr-2 "+(N?"animate-spin":"")}),N?"Refreshing...":"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow duration-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Upcoming"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mt-1",children:U.upcoming})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex-shrink-0 ml-3",children:s.jsx(n,{className:"h-4 w-4 sm:h-6 sm:w-6 text-blue-600 dark:text-blue-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow duration-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Live Now"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mt-1",children:U.live})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-red-100 dark:bg-red-900/30 rounded-lg flex-shrink-0 ml-3",children:s.jsx(m,{className:"h-4 w-4 sm:h-6 sm:w-6 text-red-600 dark:text-red-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow duration-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Completed"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mt-1",children:U.completed})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-green-100 dark:bg-green-900/30 rounded-lg flex-shrink-0 ml-3",children:s.jsx(x,{className:"h-4 w-4 sm:h-6 sm:w-6 text-green-600 dark:text-green-400"})})]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-3 sm:space-y-4 lg:space-y-0 lg:space-x-4",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"relative",children:[s.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search sessions...",value:k,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),s.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 sm:gap-3",children:[s.jsxs("select",{value:L,onChange:e=>C(e.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"All Sessions"}),s.jsx("option",{value:"scheduled",children:"Upcoming"}),s.jsx("option",{value:"live",children:"Live Now"}),s.jsx("option",{value:"completed",children:"Completed"})]}),s.jsxs(l,{variant:"outline",className:"text-sm",children:[s.jsx(o,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]})}),s.jsx("div",{className:"space-y-3 sm:space-y-4",children:R.map(e=>{const r=(e=>{switch(e){case"scheduled":return n;case"live":return m;case"completed":return x;default:return h}})(e.status),t="live"===e.status,a="scheduled"===e.status,d=e.recordingUrl;return s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl sm:rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-4 sm:p-6 hover:shadow-xl transition-all duration-300",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4 flex-1 min-w-0",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-lg flex-shrink-0 "+(t?"bg-red-100 dark:bg-red-900/30":a?"bg-blue-100 dark:bg-blue-900/30":"bg-green-100 dark:bg-green-900/30"),children:s.jsx(r,{className:"h-4 w-4 sm:h-6 sm:w-6 "+(t?"text-red-600 dark:text-red-400":a?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400")})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col xs:flex-row xs:items-start xs:justify-between gap-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-base sm:text-lg line-clamp-2 flex-1",children:e.title||e.topic}),s.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-medium ${D(e.status)} whitespace-nowrap flex-shrink-0`,children:e.status})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-3",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(g,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e.instructorName})]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(n,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e.scheduledTime?new Date(e.scheduledTime).toLocaleDateString():"TBD"})]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(h,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e.scheduledTime?new Date(e.scheduledTime).toLocaleTimeString():"TBD"})]})]}),d&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(u,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400",children:"Recording available"})]})]})]}),s.jsxs("div",{className:"flex flex-col xs:flex-row lg:flex-col xl:flex-row gap-2 justify-end",children:[(t||a)&&s.jsxs(l,{onClick:()=>(e=>{(e.meetLink||e.googleMeetLink)&&window.open(e.meetLink||e.googleMeetLink,"_blank")})(e),className:"text-xs sm:text-sm "+(t?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"),children:[s.jsx(m,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),t?"Join Live":"Join"]}),d&&"completed"===e.status&&s.jsx("a",{href:e.recordingUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 xs:flex-none",children:s.jsxs(l,{variant:"outline",className:"w-full text-xs sm:text-sm",children:[s.jsx(u,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Watch Recording"]})})]})]})},e.id)})}),0===R.length&&s.jsxs("div",{className:"text-center py-8 sm:py-12",children:[s.jsx(n,{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mb-3 sm:mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No sessions found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 sm:mb-6",children:k||"all"!==L?"Try adjusting your search or filters":"No sessions are currently available"}),s.jsxs(l,{onClick:()=>T(!0),variant:"outline",className:"text-sm",children:[s.jsx(i,{className:"h-4 w-4 mr-2"}),"Refresh Sessions"]})]})]})};export{p as default};
